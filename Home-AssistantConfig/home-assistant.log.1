2021-12-09 15:19:45 DEBUG (SyncWorker_0) [homeassistant.util.yaml.loader] Secret myLatitude retrieved from secrets.yaml in folder /config
2021-12-09 15:19:45 DEBUG (SyncWorker_0) [homeassistant.util.yaml.loader] Secret myLongitude retrieved from secrets.yaml in folder /config
2021-12-09 15:19:45 DEBUG (SyncWorker_0) [homeassistant.util.yaml.loader] Secret myCamera retrieved from secrets.yaml in folder /config
2021-12-09 15:19:45 DEBUG (SyncWorker_0) [homeassistant.util.yaml.loader] Secret mariadb_connection_url retrieved from secrets.yaml in folder /config
2021-12-09 15:19:45 DEBUG (SyncWorker_0) [homeassistant.util.yaml.loader] Secret myLatitude retrieved from secrets.yaml in folder /config
2021-12-09 15:19:45 DEBUG (SyncWorker_0) [homeassistant.util.yaml.loader] Secret myLongitude retrieved from secrets.yaml in folder /config
2021-12-09 15:19:45 DEBUG (SyncWorker_0) [homeassistant.util.yaml.loader] Secret mqttBroker retrieved from secrets.yaml in folder /config
2021-12-09 15:19:45 DEBUG (SyncWorker_0) [homeassistant.util.yaml.loader] Secret mqttPort retrieved from secrets.yaml in folder /config
2021-12-09 15:19:45 DEBUG (SyncWorker_0) [homeassistant.util.yaml.loader] Secret mqttUser retrieved from secrets.yaml in folder /config
2021-12-09 15:19:45 DEBUG (SyncWorker_0) [homeassistant.util.yaml.loader] Secret mqttPassword retrieved from secrets.yaml in folder /config
2021-12-09 15:19:45 DEBUG (SyncWorker_0) [homeassistant.util.yaml.loader] Secret iftttApiKey retrieved from secrets.yaml in folder /config
2021-12-09 15:19:45 WARNING (SyncWorker_1) [homeassistant.loader] We found a custom integration hacs which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-12-09 15:19:45 WARNING (SyncWorker_3) [homeassistant.loader] We found a custom integration min_renovasjon which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-12-09 15:19:45 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration avanza_stock which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-12-09 15:19:45 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration googlewifi which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-12-09 15:19:45 WARNING (SyncWorker_4) [homeassistant.loader] We found a custom integration nordpool which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-12-09 15:19:48 WARNING (MainThread) [homeassistant.components.updater] Analytics reporting with the option 'include_used_components' is deprecated and you should remove that from your configuration. The analytics part of this integration has moved to the new 'analytics' integration
2021-12-09 15:19:48 INFO (Thread-3) [homeassistant.components.mqtt] Connected to MQTT server mqtt:1883 (0)
2021-12-09 15:19:48 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to homeassistant/+/+/config, mid: 1
2021-12-09 15:19:48 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to homeassistant/+/+/+/config, mid: 2
2021-12-09 15:19:48 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/living_room_temperature/config (retained): b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Living Room Temperature","stat_t":"bonsaitemp/sensor/living_room_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensorliving_room_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:49:26","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 15:19:48 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/living_room_humidity/config (retained): b'{"dev_cla":"humidity","unit_of_meas":"%","stat_cla":"measurement","name":"Living Room Humidity","stat_t":"bonsaitemp/sensor/living_room_humidity/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensorliving_room_humidity","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:49:26","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 15:19:48 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config (retained): b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 15:19:48 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_humidity/config (retained): b'{"dev_cla":"humidity","unit_of_meas":"%","stat_cla":"measurement","name":"Outdoor Bonsai Humidity","stat_t":"bonsaitemp/sensor/outdoor_bonsai_humidity/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_humidity","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 15:19:48 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Living Room Temperature', 'state_topic': 'bonsaitemp/sensor/living_room_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensorliving_room_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:49:26', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 15:19:48 INFO (MainThread) [homeassistant.components.mqtt.discovery] Found new component: sensor bonsaitemp living_room_temperature
2021-12-09 15:19:48 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Living Room Humidity', 'state_topic': 'bonsaitemp/sensor/living_room_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensorliving_room_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:49:26', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 15:19:48 INFO (MainThread) [homeassistant.components.mqtt.discovery] Found new component: sensor bonsaitemp living_room_humidity
2021-12-09 15:19:48 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 15:19:48 INFO (MainThread) [homeassistant.components.mqtt.discovery] Found new component: sensor bonsaitemp outdoor_bonsai_temperature
2021-12-09 15:19:48 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 15:19:48 INFO (MainThread) [homeassistant.components.mqtt.discovery] Found new component: sensor bonsaitemp outdoor_bonsai_humidity
2021-12-09 15:19:48 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to tasmota/discovery/#, mid: 3
2021-12-09 15:20:01 ERROR (MainThread) [homeassistant.components.weather] Platform met does not generate unique IDs. ID home already exists - ignoring weather.met_no
2021-12-09 15:20:01 ERROR (MainThread) [homeassistant.components.weather] Platform met does not generate unique IDs. ID home already exists - ignoring weather.met_no
2021-12-09 15:20:01 ERROR (MainThread) [homeassistant.components.weather] Platform met does not generate unique IDs. ID home already exists - ignoring weather.met_no
2021-12-09 15:20:01 ERROR (MainThread) [homeassistant.components.weather] Platform met does not generate unique IDs. ID home already exists - ignoring weather.met_no
2021-12-09 15:20:01 ERROR (MainThread) [homeassistant.components.weather] Platform met does not generate unique IDs. ID home already exists - ignoring weather.met_no
2021-12-09 15:20:01 ERROR (MainThread) [homeassistant.components.weather] Platform met does not generate unique IDs. ID home already exists - ignoring weather.met_no
2021-12-09 15:20:23 WARNING (MainThread) [homeassistant.setup] Setup of default_config is taking over 10 seconds.
2021-12-09 15:20:36 ERROR (MainThread) [frontend.js.latest.202111030] https://ha.framstad.com/local/tempometer-gauge-card.js:302:21 Uncaught TypeError: Cannot read properties of undefined (reading 'state')
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp living_room_temperature'): deque([])
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp living_room_humidity'): deque([])
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to bonsaitemp/status, mid: 4
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status (retained): b'online'
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_humidity'): deque([])
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to bonsaitemp/status, mid: 5
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status (retained): b'online'
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to bonsaitemp/status, mid: 6
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to bonsaitemp/status, mid: 7
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status (retained): b'online'
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to bonsaitemp/sensor/living_room_temperature/state, mid: 8
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status (retained): b'online'
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to bonsaitemp/sensor/living_room_humidity/state, mid: 9
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to bonsaitemp/sensor/outdoor_bonsai_temperature/state, mid: 10
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/living_room_temperature/state (retained): b'-10.7'
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Subscribing to bonsaitemp/sensor/outdoor_bonsai_humidity/state, mid: 11
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/living_room_humidity/state (retained): b'6'
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state (retained): b'-1.4'
2021-12-09 15:20:37 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state (retained): b'83'
2021-12-09 15:20:37 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbdf43f10>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:20:42 DEBUG (MainThread) [homeassistant.components.mqtt] Transmitting message on homeassistant/status: 'online', mid: 12
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing scene.day_3
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing scene.night
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing scene.evening_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing scene.away_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing scene.nightlight_long_hall
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing scene.test_scene_1
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing scene.test_scene_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing scene.test_scene_3
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing scene.test_scene_4
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.3_way_lamp
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing script.long_hall_lights_of_when_no_brightnesschange
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.ovn_hovedsoverom
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.sigurd
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:42 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.storm
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.knut
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.entre_1
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.entre_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing media_player.stua
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing binary_sensor.living_room_door
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing binary_sensor.front_door
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing binary_sensor.cooler_room_door
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.thermostat_guest_toilet
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.thermostat_master_bath
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.thermostat_entrance
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.thermostat_downstairs_toilet
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.thermostat_downstairs_bath
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.thermostat_kids_playroom
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.thermostat_cleaning_room
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.thermostat_technical_room
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.thermostat_livingroom
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.thermostat_kitchen
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing climate.thermostat_dining_room
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.master_bedroom
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.downstairs_toilet
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.hall_plafond
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.entrance
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.kids_play_room
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.hall_downlights
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.cleaning_room
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.technical_room
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.downstairs_bath_downlights
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.downstairs_bath_pendulum
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.living_room_brass_pendulum
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.hall_balloon
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.elephant_lamp
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.bird_lamp
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.long_hall_lights
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.green_table_lamp
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.living_room_crystal_pendulum
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.dining_room_pendulum
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.kitchen_downlights
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.kitchen_cuppboards
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.kitchen_pendulum
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.master_bath
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.living_room
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.downstairs_toilet_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.technical_room_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.kids_play_room_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.cleaning_room_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.downstairs_bath
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.living_room_table_lamps
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.linus
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.dining_room
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.kitchen
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.long_hall
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.master_bath_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.master_bedroom_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.hall
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.entrance_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.beatles_picture
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.bonsai_light
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.pacman_light
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.linus_led_light
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.asian_girl_picture
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.stue_orange
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.stue_hvit
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.stue_lilla
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.sigurd_taklampe
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.sigurd_hue_lightstrip
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.storm_taklampe
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.knut_taklampe
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.hue_color_lamp_1
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.hue_color_lamp_1_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.hue_color_candle_1
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.hue_lightstrip_plus_1
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.hf_lpt120
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_3
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.liv_sin_ipad_ipad
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.knut
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.ella
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.nintendo_switch_nintendo
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_4
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.ps4_77bea8
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.linus_framstad
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_5
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.bonsaitemp
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_6
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.soverom_apple
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.samsung_android_device_samsung
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.storm
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_7
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.phoscon_gw_philips_hue_bridge_2015
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.apple
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_8
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.knuts_tv_apple
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_9
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.ps5_1d1f2a_sony
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.xboxone_xbox_one
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_10
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.sigurd_3b
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.desktop_qek1m1n_asus
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.npia2b469
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.stoffers_ipad_ipad_air
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.philips_hue_philips_hue_bridge_2015
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_11
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_12
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_13
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.android_amazon
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.f18zka6en6y5
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_14
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.apple_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.knut_framstad
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.n104303_apple
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.liv_sin_iphone_iphone
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_15
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.vw_wlan_2198
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.ipad
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.pulse4f331d19ad
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.xiaomi
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_16
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.apple_3
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.desktop_2qp3f7o_windows_device
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.kjokken_google_nest_hub
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_17
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_18
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.apple_4
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.apple_5
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_19
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_20
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_21
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.apple_6
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.stua_apple
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_22
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_23
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.nintendo_switch_nintendo_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_24
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_25
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.chromecast_kjokken_chromecast_audio
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:43 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.ts5000_series_6ee1952bf91_ts5000_series
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.nintendo_switch_nintendo_3
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.desktop_314v80p_asus
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.apple_7
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.anette_er_best
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.aiaiai
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.tv_samsung_q70_series_qe75q77tatxxc
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_26
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.storm_1
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.kjellerstue_apple
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_27
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.ipad_mini_apple
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.uniti_atom_425352_uniti_atom
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.apple_tv_apple_tv
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_28
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.desktop_c4prs8r_windows_device
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_29
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.iphone_apple
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_30
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.furtebua_apple
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_31
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_32
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.unnamed_device_33
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.sonos_5caafd84dce_sonos
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.apple_8
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.livs_macbook_air_apple
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.amazon
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.huawei_p20_lite_d6f7b1806_huawei_android_device
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.stormsiniphone_iphone
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.tv_i_stuen
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.google_wifi_router
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.google_wifi_router_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.google_wifi_router_3
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.google_wifi_router_4
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.google_wifi_router_5
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.google_wifi_router_6
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.living_room_temprature
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.living_room_humidity
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.living_room_door_temperature
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.front_door_temperature
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.cooler_room_temperature
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.cooler_room_humidity
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.cooler_room_door_temperature
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.mi_magic_cube_temperature
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.storage_room_temperature
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.storage_room_humidity
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.living_room_temperature
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.living_room_humidity_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.outdoor_bonsai_temperature
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.outdoor_bonsai_humidity
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing media_player.kjkken
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.sonos_kjokken_crossfade
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing media_player.stue
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing light.dimmer_hall
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.aeotec_zw130_wallmote_quad_switch_2
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.aeotec_zw130_wallmote_quad_switch_3
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.aeotec_zw130_wallmote_quad_switch_4
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.aeotec_wallmote_quad_1
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing sensor.fibaro_long_hall_multisensor_temprature
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:44 ERROR (MainThread) [homeassistant.components.google_assistant.smart_home] Error serializing switch.aotec_multi_remote_quad_switch_5
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/google_assistant/helpers.py", line 511, in sync_serialize
    "baseUrl": get_url(self.hass, prefer_external=True),
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 83, in get_url
    request_host = _get_request_host()
  File "/usr/src/homeassistant/homeassistant/helpers/network.py", line 122, in _get_request_host
    raise NoURLAvailableError
homeassistant.helpers.network.NoURLAvailableError
2021-12-09 15:20:47 WARNING (MainThread) [homeassistant.components.sonos.entity] Kjøkken cannot reach 192.168.64.4:1400, falling back to polling, functionality may be limited
2021-12-09 15:20:47 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 20, 47, 753416, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:20:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:20:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:20:57 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 20, 57, 754265, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:21:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 21, 7, 754745, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:21:17 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 21, 17, 755942, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:21:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:21:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:21:27 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 21, 27, 756669, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:21:37 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1f33d00>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:21:37 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 21, 37, 758189, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:21:47 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 21, 47, 759517, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:21:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:21:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:21:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 21, 57, 760855, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:22:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 22, 7, 761786, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:22:17 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 22, 17, 762666, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:22:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:22:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:22:27 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 22, 27, 763329, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:22:37 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb515a4c0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:22:37 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 22, 37, 764523, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:22:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 22, 47, 765575, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:22:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:22:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:22:57 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 22, 57, 766735, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:23:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 23, 7, 767725, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:23:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 23, 17, 768799, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:23:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:23:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:23:27 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 23, 27, 770417, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:23:37 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52f5ca0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:23:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 23, 37, 771521, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:23:47 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 23, 47, 772314, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:23:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:23:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:23:57 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 23, 57, 772778, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:24:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 24, 7, 773844, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:24:17 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 24, 17, 774599, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:24:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:24:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:24:27 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 24, 27, 775212, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:24:37 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbb568b80>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:24:37 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 24, 37, 776045, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:24:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 24, 47, 777536, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:24:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:24:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:24:57 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 24, 57, 778931, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:25:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 25, 7, 780038, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:25:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 25, 17, 780591, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:25:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:25:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:25:27 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 25, 27, 781637, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:25:37 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef26220>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:25:37 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 25, 37, 782928, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:25:47 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 25, 47, 784299, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:25:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:25:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:25:57 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 25, 57, 785429, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:26:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 26, 7, 786113, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:26:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 26, 17, 788159, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:26:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:26:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:26:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 26, 27, 789172, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:26:37 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baeddb3a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:26:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 26, 37, 791152, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:26:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 26, 47, 791549, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:26:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:26:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:26:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 26, 57, 793154, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:27:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 27, 7, 793752, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:27:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 27, 17, 794995, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:27:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:27:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:27:27 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 27, 27, 796517, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:27:37 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1ea9850>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:27:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 27, 37, 798638, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:27:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 27, 47, 799053, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:27:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 27, 57, 800532, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:28:02 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:28:02 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:28:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 28, 7, 801065, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:28:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 28, 17, 801710, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:28:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:28:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:28:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 28, 27, 803801, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:28:37 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baede6ac0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:28:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 28, 37, 804418, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:28:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 28, 47, 805553, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:28:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:28:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:28:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 28, 57, 806668, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:29:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 29, 7, 807689, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:29:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 29, 17, 809981, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:29:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:29:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:29:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 29, 27, 810645, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:29:37 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baedbd430>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:29:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 29, 37, 811258, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:29:47 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 29, 47, 812599, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:29:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:29:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:29:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 29, 57, 814122, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:30:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 30, 7, 814736, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:30:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 30, 17, 815777, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:30:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:30:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:30:27 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 30, 27, 817782, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:30:37 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bad269520>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:30:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 30, 37, 818936, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:30:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 30, 47, 819682, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:30:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:30:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:30:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 30, 57, 821291, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:31:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 31, 7, 823689, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:31:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 31, 17, 824432, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:31:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:31:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:31:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 31, 27, 825529, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:31:37 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c3fc40>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:31:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 31, 37, 826841, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:31:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 31, 47, 827516, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:31:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:31:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:31:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 31, 57, 827919, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:32:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 32, 7, 830370, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:32:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 32, 17, 831254, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:32:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:32:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:32:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 32, 27, 833585, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:32:37 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52efb80>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:32:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 32, 37, 834720, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:32:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:32:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 32, 47, 835816, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:32:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:32:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 1BAA791C37540999A61ECAE281A885BCF06F6116E73CD7574EDBA6B8C38B4953 already exists - ignoring device_tracker.hf_lpt120
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 02A92B3D431EDD81286C2ACD02AF9867F1204CEAD34911865D6CC9DEE8F67D46 already exists - ignoring device_tracker.unnamed_device
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 586FD60A5432199F439DB77F563CBB24975508CFFE5C38405E7A2C83B26D3D0F already exists - ignoring device_tracker.unnamed_device_2
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID FA9AF59EAAC62F16DB14530F1A56D65A0F5A164F07279B3F25BFDFF1887B296B already exists - ignoring device_tracker.unnamed_device_3
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID B2FE4232BA6F26B46E0C7BF3E070AA36CCE060D19142EAB36F96034E10E71BA1 already exists - ignoring device_tracker.liv_sin_ipad_ipad
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID A7551A12E71E436DD7E67B00C9C13B08DB79D2A582502AC697CC2287940F4BB1 already exists - ignoring device_tracker.knut_2
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID A5BE9B6DE530C815AE7B7F835034D22B401323085E6B53DC679EA16C31CBB19A already exists - ignoring device_tracker.ella
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 3F9599571D1266814CDDA10D90D7C03AD938F9418C8FD85DB330FED4BED128D9 already exists - ignoring device_tracker.nintendo_switch_nintendo
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 29274122E706A55E9C18654D6412811C2C92B6DF8EBCDC992716AB4C5AA8D834 already exists - ignoring device_tracker.unnamed_device_4
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID B327C79B6AE3E8A75464C9433C97C8CAC03FE6F7617C693EC9CD05482BF37836 already exists - ignoring device_tracker.ps4_77bea8
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID A450B084A10BDD7DC0E3DB8DBC78C8802FC288E5F1ACC8CFCBE1352AEA4728E4 already exists - ignoring device_tracker.linus_framstad
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 83996CE6C977DF1DB4D46C7950F41AC1B430F16581440B8ED41759C2AE01B70D already exists - ignoring device_tracker.unnamed_device_5
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 71A9FAECEB8EBF2166C741BA63ED6F252BDBD52AA926E4ADCED516F86EC9A79B already exists - ignoring device_tracker.bonsaitemp
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID E89896BC4FD6CCD17511D44F1B2B1B6344B34B6BDF554F8D627693E5706F44DD already exists - ignoring device_tracker.unnamed_device_6
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 0B99C59FA1AD47C7EDBA7F6E3A2592DF31813A1BA826418DACF1F8E774854FEB already exists - ignoring device_tracker.soverom_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID E194668F05EE8D1664B7F910F7DB6E5A4044A523E30E9C63CB39FCD7B200F494 already exists - ignoring device_tracker.samsung_android_device_samsung
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 3E80C38148D741E92F15E8056C9555756E28FC715617CA877A8A0627DB97682D already exists - ignoring device_tracker.storm_2
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 5222C77D7AF7F3C398FEE838BB806150FED6F107A4D9C2B52519DC854503E558 already exists - ignoring device_tracker.unnamed_device_7
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 0EF4729E966B383FC20AE81D51AB6DEA2A8874443DD7BFD2736AA01152E42D4C already exists - ignoring device_tracker.phoscon_gw_philips_hue_bridge_2015
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 58B103757F89D724300C50450F221E0BC0B4D27C26E486D64050364241FE25AB already exists - ignoring device_tracker.apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 60F2A9A597C7C61054C271FCEB282149FB54A1D3F9040A355FC54A0E27CB069C already exists - ignoring device_tracker.unnamed_device_8
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID E85868FC35B1ACF3A50B78E8E09796B887B2A3CCAFC2636BF0943BFD6423E3ED already exists - ignoring device_tracker.knuts_tv_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 08C440EE50A6456F90B031EDC33605535B732232BA38CA11A71B7F840615515D already exists - ignoring device_tracker.unnamed_device_9
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID A82F50766472FA8F8A6EB27603B9B973C8EE04CB700D720319C0B56B795C9557 already exists - ignoring device_tracker.ps5_1d1f2a_sony
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID DF0CE7026A37CFDDCEAD6D7A6C177F9FCDDEE186D0B75B5E7F52BEADDDC1158C already exists - ignoring device_tracker.xboxone_xbox_one
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 33C9DEE48587BF9240E8687AF07205EC3BF33CA85D40ED29195435765D1054BE already exists - ignoring device_tracker.unnamed_device_10
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 4F87744038F111F5954EB2F608B7518AA374D452B943582F251C5D38DBB99BF7 already exists - ignoring device_tracker.sigurd_3b
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID B196130B57B0DA2D00B81A0D6EA9EC35F2B83C67B3879A470BF965C7022B581A already exists - ignoring device_tracker.desktop_qek1m1n_asus
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 85FFA5EA5C6537EB06FF3C2B45D1C47BA72054CBD6E1FDC13E76B93673987D39 already exists - ignoring device_tracker.npia2b469
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID DFD770DF07E7EC9BC1AAE0BE189623E97A09B13B4D1265CFC50E73CB8979C43C already exists - ignoring device_tracker.stoffers_ipad_ipad_air
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 5F39B20B2D6F3AD593B26823D0306DD5C9448EC00E95C02E1E251472110C5A0B already exists - ignoring device_tracker.philips_hue_philips_hue_bridge_2015
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 0A48F1CFCE6C42D04A68ECB73CE7505783A25A72A5B624B1A8C7E3D51C359876 already exists - ignoring device_tracker.unnamed_device_11
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 8A5AC8B34F5799C029B339ABA8DEBDBD10ED546FE33DD3ABCB9EACFA2F0954DD already exists - ignoring device_tracker.unnamed_device_12
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 5E5E0476D49D0B7226F88B7D356C0118F811F9A0C0E126DD5757D7DF65AF8A0D already exists - ignoring device_tracker.unnamed_device_13
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 43B3C5782EA0C490DC35F9BDFCA99404C8363421C359B02C7741D646BD1EF6CE already exists - ignoring device_tracker.android_amazon
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID A73E8269321150FD3E2355EC0127A779D1041C5A36124AC79C5EDF65156731CF already exists - ignoring device_tracker.f18zka6en6y5_4
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 3420A84BFFAB89F7B9DD1F3D29DFC3A2F425FAFEC450AA061BA3972B30A80354 already exists - ignoring device_tracker.unnamed_device_14
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 427C981E8752EBDD6EFABFD0C22275FA4BB9B17DDCBFFE1D48BE9037428726C8 already exists - ignoring device_tracker.apple_2
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 690F25196BFD6BE894DA6C04A0127B738F23C7EE224F8CA2BC91835A245BE8E5 already exists - ignoring device_tracker.knut_framstad
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 33AD9F16C077C9D873C180CF0F28F1BB97176D5372114A6FDA1BE09B43BA6066 already exists - ignoring device_tracker.n104303_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 68CA75D337AD867ABF3669AA5CA2F8321656F14602073085F07E018B954385AC already exists - ignoring device_tracker.liv_sin_iphone_iphone
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 3648AC913F000DA7357BC3E8AFA7D64168DEB86BA5AFAE98E7E0920E2CA489E7 already exists - ignoring device_tracker.unnamed_device_15
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID CFE3599A4EB06CB491C31D7F17E587FA8D1152EB115B55C32CD153A72FAF2E9C already exists - ignoring device_tracker.vw_wlan_2198
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 6288B93807EB2007047DE44ED21021432FEF1EE74B321286AB57F84EECAD0797 already exists - ignoring device_tracker.ipad
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 629B1457BCB73565874B71B4527ADDD78DA2FB7812F6C3155D3C88A5933654EB already exists - ignoring device_tracker.pulse4f331d19ad
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 49F726E35F51C755036DDAC394A13F626671DDE82E0AA2CEDC120C924C28B655 already exists - ignoring device_tracker.xiaomi
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID CBF6A72A3EA72B9F1F8B9EB8CDCD4EAFE27838E8A1B95FEA3AB1E09154E03C1B already exists - ignoring device_tracker.unnamed_device_16
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID B779D0FAB13605255FB89D9A273E52CF58A7A93D87F5AEBD6A58E16D38AA055C already exists - ignoring device_tracker.apple_3
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID CCB5BD01B77C764CDB6F397352D2FB752890EA9BFE306FEA3A939F35C8A4FE1A already exists - ignoring device_tracker.desktop_2qp3f7o_windows_device
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 41CF974494EB53F7580FE276C206B25264984387EA25CFBBBBC7513DA6FBA266 already exists - ignoring device_tracker.kjokken_google_nest_hub
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID A713E52274FD2F81D06C340F7997ED32E033C66738AD05273DFAEFD155431E8C already exists - ignoring device_tracker.unnamed_device_17
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID CF21B82027DBB44819242F9EBD06FBDCD62A217FBEB235BF6F6F1996A2971A80 already exists - ignoring device_tracker.unnamed_device_18
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 76DE1CC484597D63229913244B47093880F2C76A84BDD60228CEE4C4401C0F69 already exists - ignoring device_tracker.apple_4
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID F76A26DA6BDE2FEF21987F0FF7EC275BB40B11C264924233C4396F9D1284FBEF already exists - ignoring device_tracker.apple_5
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 9197C27F1852C23441C159A82FB2C53049774C561D87037167AA52D2C145F95B already exists - ignoring device_tracker.unnamed_device_19
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 3A43ECA0162365CAE32A776BC70BAD908E265AAE17A22036C33C9BEA58C4C036 already exists - ignoring device_tracker.unnamed_device_20
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID B9A3BCC8639E3C4E979116F8BF40F089D8B22130725B75EE8A44737CADA809E8 already exists - ignoring device_tracker.unnamed_device_21
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID A90E9C41A83351CFD70BDEA19403402726BA6F6558858AD2CB38884E6E14428D already exists - ignoring device_tracker.apple_6
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID B18D1FF52651AA3C206C89E3B9493867D3C81C53007562E51555D720A7513834 already exists - ignoring device_tracker.stua_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 8B17F4A9B31C26089CA88DA8705CA0FB8D3D9D24893737C5325A6E391F9E02E5 already exists - ignoring device_tracker.unnamed_device_22
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID B88AD827D61C5B8746E65B1E054C16D52DF91200CB40D248D4A23EB1678B0495 already exists - ignoring device_tracker.unnamed_device_23
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID AA799D61CBFDF80A5C95DEF880FED7B61099534E3F8CA3DC5F4A2B0FDE618D82 already exists - ignoring device_tracker.nintendo_switch_nintendo_2
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 1BAEE1FC9EAFD251F4AC8659AFD4F141307FC9B22F79D90CA27159060EAE0298 already exists - ignoring device_tracker.unnamed_device_24
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID E8EA89AC0B7FC4301487BC7CDFB17EEDD265409440BFB6FC7753C7F9FAAF8DA4 already exists - ignoring device_tracker.unnamed_device_25
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID E0F456539C0F19BBC8004F21F3EA26B2EF0B13AB4997121B69E5E738A2368377 already exists - ignoring device_tracker.chromecast_kjokken_chromecast_audio
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID B5B527C4A7E840F0A310045BB6AFC518021D52489D6929C2B27D26EF7D455335 already exists - ignoring device_tracker.ts5000_series_6ee1952bf91_ts5000_series
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID E94558FE985A64A3055A2B3BCD28111EC4E0BDF9D3B2462D813389B1A5FA9A5E already exists - ignoring device_tracker.nintendo_switch_nintendo_3
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 91572AB903D2DDF9F0BB1AA1E179C72830BF44EC57C37CDFFDCEAB686CB7D124 already exists - ignoring device_tracker.desktop_314v80p_asus
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID BBDF949A7B5C99F9D0AA4D16439DD59B2C937D8984B7322E8D143C85FD2AE82D already exists - ignoring device_tracker.apple_7
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 8BD1BDCDA397388C0055B692FD5E1C3592A5311331BA0ABFCD43E20608A589D2 already exists - ignoring device_tracker.anette_er_best
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 1B211C7AA125C38AFD1FB87A13A0857D19393C370BDE9C9261F29686193474E8 already exists - ignoring device_tracker.aiaiai
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID D2EC47C5AFEF3AA9F02CE4FA1BF72D3E7C9FE96A8DA81A38355CAB3F3B39F9F1 already exists - ignoring device_tracker.tv_samsung_q70_series_qe75q77tatxxc
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 54440ADE85F784EC86ADC0AEDF4C71AA3AAC47036A0B3955806092B67C24A93D already exists - ignoring device_tracker.unnamed_device_26
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID E6DF2DEDBDB791105477396DE2208B2138064E561B5D286BCA1721D10D0CEAC3 already exists - ignoring device_tracker.storm_1
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 2F70334C761ED7B38928F0199B788CA303D5381A3CE5BCD23F4775A0F2AD9EA6 already exists - ignoring device_tracker.kjellerstue_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 85C7A23EE8F5A76E79A02C318A7C7BA9442A1DAAE27188253E1DFD824AF3E227 already exists - ignoring device_tracker.unnamed_device_27
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID FE8DBAEED5F00EBD7E7E9F1FD62305BABF76EED4CA6652AE701BFA55B6FCE6B5 already exists - ignoring device_tracker.ipad_mini_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 2FD93FA7D1171B1A2932F66E5159AF4770D9EAB3FDFBD6A5939114866BF66394 already exists - ignoring device_tracker.uniti_atom_425352_uniti_atom
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID A3ECE8F20EF749F0EFECDEF37C58F3CF1918E409B3A5B962D50BEED10FEDE79D already exists - ignoring device_tracker.apple_tv_apple_tv
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 5AEA9C98025D65B0AE5FD188936C03B4220EF8D5194B7F4B6C11863CC04614C6 already exists - ignoring device_tracker.unnamed_device_28
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 0EDDA2EA14F6EF938670E432A8EDFB3189C0AD3C8D8EE254172AAB01E09DD595 already exists - ignoring device_tracker.desktop_c4prs8r_windows_device
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 36AAA608771AAD1F7AF80E2C25614F4A1CA529D4C63316F1B3A72586119BB839 already exists - ignoring device_tracker.unnamed_device_29
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 652889CF195FCEFCE479DD36F3EBF865F730B87BCA552E8E62337313979ABD75 already exists - ignoring device_tracker.iphone_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 65042CBBF76F561CFFBF81D8FFB9F561F2E0B96428FB8AC0F89FD92F1CBCFFE5 already exists - ignoring device_tracker.unnamed_device_30
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID A6CA8E2E395BD86BB5C2D15CFD133B0F1BCBBD7CDDC692BCAD8B24AE2FFEAD13 already exists - ignoring device_tracker.furtebua_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 331A3CB08674DA805289FA4C2DAB9490BC3186BB579722B285A2241E5CAB6CE0 already exists - ignoring device_tracker.unnamed_device_31
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID F4D0FB79733D209632A6BE03FA5D592BF28B7778F645F68452F47F0529A10748 already exists - ignoring device_tracker.unnamed_device_32
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID D77CD6A55AD79526F7CA2226A0D27722B905F5A6C8B4D56B51A3233602E64375 already exists - ignoring device_tracker.unnamed_device_33
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 84DCED6B23EA29DA9E26B21431889FE0EE77986E67DB2DB77A39611D6CD99E37 already exists - ignoring device_tracker.sonos_5caafd84dce_sonos
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 50A7E4D9A481992B0A84832C680A65C54CB60D0857AFA1BB5494DB01D28142F3 already exists - ignoring device_tracker.apple_8
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 3519FBEE2C2F55DF1C1B79FD57B5B128F3A1A8FC7B248BE2330F8090AFA58CDC already exists - ignoring device_tracker.livs_macbook_air_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 9E7CEDAD817D1090BBD10FC2A4C795817F8404B9FE0568D58F64CEDBEE763222 already exists - ignoring device_tracker.amazon
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 405FC2F2423FBAD8815E282A913BF3D01179A9D7BC96E02D9B21ADD0CE6A12EC already exists - ignoring device_tracker.huawei_p20_lite_d6f7b1806_huawei_android_device
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID D8323EF27B51C44D8991392CEA65869D0623B71A21A177AEFAF64EC0081BE7B1 already exists - ignoring device_tracker.stormsiniphone_iphone
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.device_tracker] Platform googlewifi does not generate unique IDs. ID 0C7D4598FFFFA8D9D1264AF0CD6F7A134A461F6DFD4126062A0CF19DDAE618F7 already exists - ignoring device_tracker.tv_i_stuen
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 1BAA791C37540999A61ECAE281A885BCF06F6116E73CD7574EDBA6B8C38B4953 already exists - ignoring switch.hf_lpt120
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 02A92B3D431EDD81286C2ACD02AF9867F1204CEAD34911865D6CC9DEE8F67D46 already exists - ignoring switch.unnamed_device
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 586FD60A5432199F439DB77F563CBB24975508CFFE5C38405E7A2C83B26D3D0F already exists - ignoring switch.unnamed_device_2
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID FA9AF59EAAC62F16DB14530F1A56D65A0F5A164F07279B3F25BFDFF1887B296B already exists - ignoring switch.unnamed_device_3
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID B2FE4232BA6F26B46E0C7BF3E070AA36CCE060D19142EAB36F96034E10E71BA1 already exists - ignoring switch.liv_sin_ipad_ipad
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID A7551A12E71E436DD7E67B00C9C13B08DB79D2A582502AC697CC2287940F4BB1 already exists - ignoring switch.knut
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID A5BE9B6DE530C815AE7B7F835034D22B401323085E6B53DC679EA16C31CBB19A already exists - ignoring switch.ella
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 3F9599571D1266814CDDA10D90D7C03AD938F9418C8FD85DB330FED4BED128D9 already exists - ignoring switch.nintendo_switch_nintendo
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 29274122E706A55E9C18654D6412811C2C92B6DF8EBCDC992716AB4C5AA8D834 already exists - ignoring switch.unnamed_device_4
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID B327C79B6AE3E8A75464C9433C97C8CAC03FE6F7617C693EC9CD05482BF37836 already exists - ignoring switch.ps4_77bea8
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID A450B084A10BDD7DC0E3DB8DBC78C8802FC288E5F1ACC8CFCBE1352AEA4728E4 already exists - ignoring switch.linus_framstad
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 83996CE6C977DF1DB4D46C7950F41AC1B430F16581440B8ED41759C2AE01B70D already exists - ignoring switch.unnamed_device_5
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 71A9FAECEB8EBF2166C741BA63ED6F252BDBD52AA926E4ADCED516F86EC9A79B already exists - ignoring switch.bonsaitemp
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID E89896BC4FD6CCD17511D44F1B2B1B6344B34B6BDF554F8D627693E5706F44DD already exists - ignoring switch.unnamed_device_6
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 0B99C59FA1AD47C7EDBA7F6E3A2592DF31813A1BA826418DACF1F8E774854FEB already exists - ignoring switch.soverom_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID E194668F05EE8D1664B7F910F7DB6E5A4044A523E30E9C63CB39FCD7B200F494 already exists - ignoring switch.samsung_android_device_samsung
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 3E80C38148D741E92F15E8056C9555756E28FC715617CA877A8A0627DB97682D already exists - ignoring switch.storm
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 5222C77D7AF7F3C398FEE838BB806150FED6F107A4D9C2B52519DC854503E558 already exists - ignoring switch.unnamed_device_7
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 0EF4729E966B383FC20AE81D51AB6DEA2A8874443DD7BFD2736AA01152E42D4C already exists - ignoring switch.phoscon_gw_philips_hue_bridge_2015
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 58B103757F89D724300C50450F221E0BC0B4D27C26E486D64050364241FE25AB already exists - ignoring switch.apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 60F2A9A597C7C61054C271FCEB282149FB54A1D3F9040A355FC54A0E27CB069C already exists - ignoring switch.unnamed_device_8
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID E85868FC35B1ACF3A50B78E8E09796B887B2A3CCAFC2636BF0943BFD6423E3ED already exists - ignoring switch.knuts_tv_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 08C440EE50A6456F90B031EDC33605535B732232BA38CA11A71B7F840615515D already exists - ignoring switch.unnamed_device_9
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID A82F50766472FA8F8A6EB27603B9B973C8EE04CB700D720319C0B56B795C9557 already exists - ignoring switch.ps5_1d1f2a_sony
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID DF0CE7026A37CFDDCEAD6D7A6C177F9FCDDEE186D0B75B5E7F52BEADDDC1158C already exists - ignoring switch.xboxone_xbox_one
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 33C9DEE48587BF9240E8687AF07205EC3BF33CA85D40ED29195435765D1054BE already exists - ignoring switch.unnamed_device_10
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 4F87744038F111F5954EB2F608B7518AA374D452B943582F251C5D38DBB99BF7 already exists - ignoring switch.sigurd_3b
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID B196130B57B0DA2D00B81A0D6EA9EC35F2B83C67B3879A470BF965C7022B581A already exists - ignoring switch.desktop_qek1m1n_asus
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 85FFA5EA5C6537EB06FF3C2B45D1C47BA72054CBD6E1FDC13E76B93673987D39 already exists - ignoring switch.npia2b469
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID DFD770DF07E7EC9BC1AAE0BE189623E97A09B13B4D1265CFC50E73CB8979C43C already exists - ignoring switch.stoffers_ipad_ipad_air
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 5F39B20B2D6F3AD593B26823D0306DD5C9448EC00E95C02E1E251472110C5A0B already exists - ignoring switch.philips_hue_philips_hue_bridge_2015
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 0A48F1CFCE6C42D04A68ECB73CE7505783A25A72A5B624B1A8C7E3D51C359876 already exists - ignoring switch.unnamed_device_11
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 8A5AC8B34F5799C029B339ABA8DEBDBD10ED546FE33DD3ABCB9EACFA2F0954DD already exists - ignoring switch.unnamed_device_12
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 5E5E0476D49D0B7226F88B7D356C0118F811F9A0C0E126DD5757D7DF65AF8A0D already exists - ignoring switch.unnamed_device_13
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 43B3C5782EA0C490DC35F9BDFCA99404C8363421C359B02C7741D646BD1EF6CE already exists - ignoring switch.android_amazon
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID A73E8269321150FD3E2355EC0127A779D1041C5A36124AC79C5EDF65156731CF already exists - ignoring switch.f18zka6en6y5
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 3420A84BFFAB89F7B9DD1F3D29DFC3A2F425FAFEC450AA061BA3972B30A80354 already exists - ignoring switch.unnamed_device_14
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 427C981E8752EBDD6EFABFD0C22275FA4BB9B17DDCBFFE1D48BE9037428726C8 already exists - ignoring switch.apple_2
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 690F25196BFD6BE894DA6C04A0127B738F23C7EE224F8CA2BC91835A245BE8E5 already exists - ignoring switch.knut_framstad
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 33AD9F16C077C9D873C180CF0F28F1BB97176D5372114A6FDA1BE09B43BA6066 already exists - ignoring switch.n104303_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 68CA75D337AD867ABF3669AA5CA2F8321656F14602073085F07E018B954385AC already exists - ignoring switch.liv_sin_iphone_iphone
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 3648AC913F000DA7357BC3E8AFA7D64168DEB86BA5AFAE98E7E0920E2CA489E7 already exists - ignoring switch.unnamed_device_15
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID CFE3599A4EB06CB491C31D7F17E587FA8D1152EB115B55C32CD153A72FAF2E9C already exists - ignoring switch.vw_wlan_2198
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 6288B93807EB2007047DE44ED21021432FEF1EE74B321286AB57F84EECAD0797 already exists - ignoring switch.ipad
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 629B1457BCB73565874B71B4527ADDD78DA2FB7812F6C3155D3C88A5933654EB already exists - ignoring switch.pulse4f331d19ad
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 49F726E35F51C755036DDAC394A13F626671DDE82E0AA2CEDC120C924C28B655 already exists - ignoring switch.xiaomi
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID CBF6A72A3EA72B9F1F8B9EB8CDCD4EAFE27838E8A1B95FEA3AB1E09154E03C1B already exists - ignoring switch.unnamed_device_16
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID B779D0FAB13605255FB89D9A273E52CF58A7A93D87F5AEBD6A58E16D38AA055C already exists - ignoring switch.apple_3
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID CCB5BD01B77C764CDB6F397352D2FB752890EA9BFE306FEA3A939F35C8A4FE1A already exists - ignoring switch.desktop_2qp3f7o_windows_device
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 41CF974494EB53F7580FE276C206B25264984387EA25CFBBBBC7513DA6FBA266 already exists - ignoring switch.kjokken_google_nest_hub
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID A713E52274FD2F81D06C340F7997ED32E033C66738AD05273DFAEFD155431E8C already exists - ignoring switch.unnamed_device_17
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID CF21B82027DBB44819242F9EBD06FBDCD62A217FBEB235BF6F6F1996A2971A80 already exists - ignoring switch.unnamed_device_18
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 76DE1CC484597D63229913244B47093880F2C76A84BDD60228CEE4C4401C0F69 already exists - ignoring switch.apple_4
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID F76A26DA6BDE2FEF21987F0FF7EC275BB40B11C264924233C4396F9D1284FBEF already exists - ignoring switch.apple_5
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 9197C27F1852C23441C159A82FB2C53049774C561D87037167AA52D2C145F95B already exists - ignoring switch.unnamed_device_19
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 3A43ECA0162365CAE32A776BC70BAD908E265AAE17A22036C33C9BEA58C4C036 already exists - ignoring switch.unnamed_device_20
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID B9A3BCC8639E3C4E979116F8BF40F089D8B22130725B75EE8A44737CADA809E8 already exists - ignoring switch.unnamed_device_21
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID A90E9C41A83351CFD70BDEA19403402726BA6F6558858AD2CB38884E6E14428D already exists - ignoring switch.apple_6
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID B18D1FF52651AA3C206C89E3B9493867D3C81C53007562E51555D720A7513834 already exists - ignoring switch.stua_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 8B17F4A9B31C26089CA88DA8705CA0FB8D3D9D24893737C5325A6E391F9E02E5 already exists - ignoring switch.unnamed_device_22
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID B88AD827D61C5B8746E65B1E054C16D52DF91200CB40D248D4A23EB1678B0495 already exists - ignoring switch.unnamed_device_23
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID AA799D61CBFDF80A5C95DEF880FED7B61099534E3F8CA3DC5F4A2B0FDE618D82 already exists - ignoring switch.nintendo_switch_nintendo_2
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 1BAEE1FC9EAFD251F4AC8659AFD4F141307FC9B22F79D90CA27159060EAE0298 already exists - ignoring switch.unnamed_device_24
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID E8EA89AC0B7FC4301487BC7CDFB17EEDD265409440BFB6FC7753C7F9FAAF8DA4 already exists - ignoring switch.unnamed_device_25
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID E0F456539C0F19BBC8004F21F3EA26B2EF0B13AB4997121B69E5E738A2368377 already exists - ignoring switch.chromecast_kjokken_chromecast_audio
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID B5B527C4A7E840F0A310045BB6AFC518021D52489D6929C2B27D26EF7D455335 already exists - ignoring switch.ts5000_series_6ee1952bf91_ts5000_series
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID E94558FE985A64A3055A2B3BCD28111EC4E0BDF9D3B2462D813389B1A5FA9A5E already exists - ignoring switch.nintendo_switch_nintendo_3
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 91572AB903D2DDF9F0BB1AA1E179C72830BF44EC57C37CDFFDCEAB686CB7D124 already exists - ignoring switch.desktop_314v80p_asus
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID BBDF949A7B5C99F9D0AA4D16439DD59B2C937D8984B7322E8D143C85FD2AE82D already exists - ignoring switch.apple_7
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 8BD1BDCDA397388C0055B692FD5E1C3592A5311331BA0ABFCD43E20608A589D2 already exists - ignoring switch.anette_er_best
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 1B211C7AA125C38AFD1FB87A13A0857D19393C370BDE9C9261F29686193474E8 already exists - ignoring switch.aiaiai
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID D2EC47C5AFEF3AA9F02CE4FA1BF72D3E7C9FE96A8DA81A38355CAB3F3B39F9F1 already exists - ignoring switch.tv_samsung_q70_series_qe75q77tatxxc
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 54440ADE85F784EC86ADC0AEDF4C71AA3AAC47036A0B3955806092B67C24A93D already exists - ignoring switch.unnamed_device_26
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID E6DF2DEDBDB791105477396DE2208B2138064E561B5D286BCA1721D10D0CEAC3 already exists - ignoring switch.storm_1
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 2F70334C761ED7B38928F0199B788CA303D5381A3CE5BCD23F4775A0F2AD9EA6 already exists - ignoring switch.kjellerstue_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 85C7A23EE8F5A76E79A02C318A7C7BA9442A1DAAE27188253E1DFD824AF3E227 already exists - ignoring switch.unnamed_device_27
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID FE8DBAEED5F00EBD7E7E9F1FD62305BABF76EED4CA6652AE701BFA55B6FCE6B5 already exists - ignoring switch.ipad_mini_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 2FD93FA7D1171B1A2932F66E5159AF4770D9EAB3FDFBD6A5939114866BF66394 already exists - ignoring switch.uniti_atom_425352_uniti_atom
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID A3ECE8F20EF749F0EFECDEF37C58F3CF1918E409B3A5B962D50BEED10FEDE79D already exists - ignoring switch.apple_tv_apple_tv
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 5AEA9C98025D65B0AE5FD188936C03B4220EF8D5194B7F4B6C11863CC04614C6 already exists - ignoring switch.unnamed_device_28
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 0EDDA2EA14F6EF938670E432A8EDFB3189C0AD3C8D8EE254172AAB01E09DD595 already exists - ignoring switch.desktop_c4prs8r_windows_device
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 36AAA608771AAD1F7AF80E2C25614F4A1CA529D4C63316F1B3A72586119BB839 already exists - ignoring switch.unnamed_device_29
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 652889CF195FCEFCE479DD36F3EBF865F730B87BCA552E8E62337313979ABD75 already exists - ignoring switch.iphone_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 65042CBBF76F561CFFBF81D8FFB9F561F2E0B96428FB8AC0F89FD92F1CBCFFE5 already exists - ignoring switch.unnamed_device_30
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID A6CA8E2E395BD86BB5C2D15CFD133B0F1BCBBD7CDDC692BCAD8B24AE2FFEAD13 already exists - ignoring switch.furtebua_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 331A3CB08674DA805289FA4C2DAB9490BC3186BB579722B285A2241E5CAB6CE0 already exists - ignoring switch.unnamed_device_31
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID F4D0FB79733D209632A6BE03FA5D592BF28B7778F645F68452F47F0529A10748 already exists - ignoring switch.unnamed_device_32
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID D77CD6A55AD79526F7CA2226A0D27722B905F5A6C8B4D56B51A3233602E64375 already exists - ignoring switch.unnamed_device_33
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 84DCED6B23EA29DA9E26B21431889FE0EE77986E67DB2DB77A39611D6CD99E37 already exists - ignoring switch.sonos_5caafd84dce_sonos
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 50A7E4D9A481992B0A84832C680A65C54CB60D0857AFA1BB5494DB01D28142F3 already exists - ignoring switch.apple_8
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 3519FBEE2C2F55DF1C1B79FD57B5B128F3A1A8FC7B248BE2330F8090AFA58CDC already exists - ignoring switch.livs_macbook_air_apple
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 9E7CEDAD817D1090BBD10FC2A4C795817F8404B9FE0568D58F64CEDBEE763222 already exists - ignoring switch.amazon
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 405FC2F2423FBAD8815E282A913BF3D01179A9D7BC96E02D9B21ADD0CE6A12EC already exists - ignoring switch.huawei_p20_lite_d6f7b1806_huawei_android_device
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID D8323EF27B51C44D8991392CEA65869D0623B71A21A177AEFAF64EC0081BE7B1 already exists - ignoring switch.stormsiniphone_iphone
2021-12-09 15:32:53 ERROR (MainThread) [homeassistant.components.switch] Platform googlewifi does not generate unique IDs. ID 0C7D4598FFFFA8D9D1264AF0CD6F7A134A461F6DFD4126062A0CF19DDAE618F7 already exists - ignoring switch.tv_i_stuen
2021-12-09 15:32:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 32, 57, 836967, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:33:07 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 33, 7, 838292, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:33:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:33:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 33, 17, 838799, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:33:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:33:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:33:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 33, 27, 839965, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:33:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef30370>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:33:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 33, 37, 841857, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:33:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:33:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 33, 47, 842137, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:33:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.5'
2021-12-09 15:33:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:33:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 33, 57, 843169, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:34:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 34, 7, 844061, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:34:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:34:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 34, 17, 844700, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:34:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:34:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:34:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 34, 27, 845493, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:34:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c2e820>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:34:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 34, 37, 846708, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:34:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:34:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 34, 47, 847358, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:34:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:34:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:34:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 34, 57, 848442, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:35:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 35, 7, 849144, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:35:09 WARNING (MainThread) [homeassistant.helpers.service] Unable to find referenced entities switch.f18zka6en6y5
2021-12-09 15:35:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:35:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 35, 17, 849551, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:35:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:35:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:35:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 35, 27, 849880, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:35:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c1b4c0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:35:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 35, 37, 850432, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:35:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:35:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 35, 47, 851122, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:35:50 WARNING (MainThread) [homeassistant.helpers.service] Unable to find referenced entities switch.f18zka6en6y5
2021-12-09 15:35:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:35:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:35:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 35, 57, 852418, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:36:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 36, 7, 854582, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:36:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:36:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 36, 17, 855586, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:36:21 WARNING (MainThread) [homeassistant.helpers.service] Unable to find referenced entities switch.f18zka6en6y5
2021-12-09 15:36:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:36:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:36:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 36, 27, 855912, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:36:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb518b5b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:36:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 36, 37, 856885, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:36:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:36:46 ERROR (MainThread) [custom_components.googlewifi] Error fetching GoogleWifi data: Error connecting to GoogleWifi: 
2021-12-09 15:36:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 36, 47, 857495, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:36:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:36:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:36:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 36, 57, 858557, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:37:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 37, 7, 860249, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:37:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:37:16 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 15:37:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 37, 17, 861758, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:37:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 37, 27, 862770, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:37:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bad269af0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:37:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 37, 37, 863544, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:37:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:37:48 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 15:37:48 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:37:48 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 15:37:48 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 15:37:48 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 15:37:48 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 15:37:48 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 15:37:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 37, 47, 864307, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:37:48 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_humidity/config: b'{"dev_cla":"humidity","unit_of_meas":"%","stat_cla":"measurement","name":"Outdoor Bonsai Humidity","stat_t":"bonsaitemp/sensor/outdoor_bonsai_humidity/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_humidity","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 15:37:48 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:37:48 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'online'
2021-12-09 15:37:48 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 15:37:48 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_humidity, sending update
2021-12-09 15:37:48 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_humidity') '{'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 15:37:48 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_humidity
2021-12-09 15:37:48 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_humidity'): deque([])
2021-12-09 15:37:54 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:37:54 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:37:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 37, 57, 865203, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:38:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 38, 7, 866019, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:38:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:38:16 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 15:38:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 38, 17, 867302, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:38:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 38, 27, 868125, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:38:33 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 15:38:33 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 15:38:33 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 15:38:33 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:38:33 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 15:38:33 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 15:38:33 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 15:38:33 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_humidity/config: b'{"dev_cla":"humidity","unit_of_meas":"%","stat_cla":"measurement","name":"Outdoor Bonsai Humidity","stat_t":"bonsaitemp/sensor/outdoor_bonsai_humidity/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_humidity","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 15:38:33 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 15:38:33 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_humidity, sending update
2021-12-09 15:38:33 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:38:33 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'online'
2021-12-09 15:38:33 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_humidity') '{'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 15:38:33 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_humidity
2021-12-09 15:38:33 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_humidity'): deque([])
2021-12-09 15:38:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb529f8b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:38:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 38, 37, 868805, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:38:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:38:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 38, 47, 869595, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:38:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:38:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:38:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 38, 57, 870164, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:39:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 39, 7, 871339, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:39:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:39:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 39, 17, 872606, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:39:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:39:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:39:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 39, 27, 873291, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:39:38 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef1d340>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:39:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 39, 37, 875627, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:39:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:39:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 39, 47, 876082, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:39:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:39:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:39:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 39, 57, 876476, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:40:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 40, 7, 877820, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:40:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:40:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 40, 17, 878716, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:40:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:40:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:40:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 40, 27, 879271, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:40:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 40, 37, 880577, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:40:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bad24a4c0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:40:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:40:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 40, 47, 881291, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:40:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:40:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:40:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 40, 57, 881652, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:41:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 41, 7, 882298, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:41:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:41:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 41, 17, 883446, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:41:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:41:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:41:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 41, 27, 884703, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:41:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baede6190>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:41:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 41, 37, 885382, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:41:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:41:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 41, 47, 886437, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:41:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:41:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:41:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 41, 57, 887968, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:42:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 42, 7, 888363, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:42:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:42:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 42, 17, 889708, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:42:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:42:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:42:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 42, 27, 890171, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:42:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 42, 37, 891537, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:42:38 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef26f40>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:42:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:42:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 42, 47, 892177, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:42:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:42:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:42:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 42, 57, 893186, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:43:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 43, 7, 894870, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:43:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:43:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 43, 17, 896177, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:43:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:43:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:43:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 43, 27, 897461, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:43:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 43, 37, 899303, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:43:38 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c2eee0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:43:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:43:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 43, 47, 899650, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:43:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:43:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:43:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 43, 57, 901664, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:44:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 44, 7, 903474, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:44:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:44:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 44, 17, 904843, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:44:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:44:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:44:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 44, 27, 906814, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:44:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 44, 37, 908676, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:44:38 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baede6310>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:44:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:44:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 44, 47, 909378, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:44:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:44:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:44:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 44, 57, 911453, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:45:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 45, 7, 913611, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:45:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:45:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 45, 17, 914756, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:45:26 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:45:26 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:45:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 45, 27, 915644, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:45:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 45, 37, 916912, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:45:38 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52eda30>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:45:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:45:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 45, 47, 917569, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:45:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:45:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:45:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 45, 57, 918920, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:46:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 46, 7, 919977, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:46:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:46:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 46, 17, 921281, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:46:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:46:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:46:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 46, 27, 921965, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:46:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 46, 37, 923559, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:46:38 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1e4ac10>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:46:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:46:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 46, 47, 925183, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:46:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:46:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:46:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 46, 57, 926174, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:47:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 47, 7, 927642, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:47:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:47:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 47, 17, 928399, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:47:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:47:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:47:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 47, 27, 929481, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:47:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 47, 37, 931307, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:47:38 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52edb20>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:47:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:47:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 47, 47, 932489, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:47:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:47:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:47:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 47, 57, 933742, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:48:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 48, 7, 935736, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:48:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:48:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 48, 17, 936927, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:48:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:48:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:48:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 48, 27, 938619, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:48:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 48, 37, 940284, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:48:38 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb528eeb0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:48:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:48:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 48, 47, 941856, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:48:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:48:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:48:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 48, 57, 943185, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:49:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 49, 7, 944477, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:49:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:49:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 49, 17, 945494, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:49:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:49:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:49:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 49, 27, 947455, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:49:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 49, 37, 948668, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:49:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb520d580>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:49:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:49:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 49, 47, 949855, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:49:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:49:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:49:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 49, 57, 951977, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:50:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 50, 7, 953872, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:50:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:50:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 50, 17, 954696, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:50:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:50:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:50:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 50, 27, 955127, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:50:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 50, 37, 956759, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:50:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef26af0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:50:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:50:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 50, 47, 958199, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:50:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:50:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:50:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 50, 57, 958875, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:51:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 51, 7, 959518, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:51:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:51:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 51, 17, 960539, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:51:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:51:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:51:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 51, 27, 962679, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:51:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 51, 37, 963234, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:51:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baeddbfa0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:51:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:51:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 51, 47, 964005, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:51:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:51:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:51:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 51, 57, 964870, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:52:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 52, 7, 966189, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:52:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:52:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 52, 17, 967311, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:52:25 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:52:25 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:52:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 52, 27, 968218, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:52:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 52, 37, 969497, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:52:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baedbdac0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:52:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:52:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 52, 47, 970774, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:52:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:52:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:52:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 52, 57, 972292, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:53:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 53, 7, 973582, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:53:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:53:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 53, 17, 974271, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:53:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:53:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:53:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 53, 27, 976107, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:53:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 53, 37, 976481, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:53:38 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef26a60>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:53:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:53:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 53, 47, 978259, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:53:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:53:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:53:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 53, 57, 979958, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:54:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 54, 7, 982287, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:54:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:54:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 54, 17, 984354, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:54:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:54:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:54:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 54, 27, 986047, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:54:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 54, 37, 987574, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:54:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c3e580>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:54:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:54:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 54, 47, 989048, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:54:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:54:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:54:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 54, 57, 990304, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:55:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 55, 7, 992369, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:55:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:55:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 55, 17, 993504, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:55:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:55:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:55:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 55, 27, 994685, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:55:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 55, 37, 996006, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:55:38 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb10e6250>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:55:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:55:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 55, 47, 996438, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:55:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:55:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:55:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 55, 57, 997004, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:56:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 56, 7, 997719, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:56:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:56:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 56, 17, 998351, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:56:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:56:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:56:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 56, 27, 998958, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:56:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 56, 38, 950, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:56:38 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1eb0490>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:56:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:56:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:56:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:56:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 56, 58, 1953, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:57:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 57, 8, 2415, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:57:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:57:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 57, 18, 2885, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:57:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:57:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:57:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 57, 28, 3255, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:57:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 57, 38, 4220, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:57:38 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef7a400>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:57:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:57:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 57, 48, 5274, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:57:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:57:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:57:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 57, 58, 6076, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:58:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 58, 8, 6954, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:58:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:58:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 58, 18, 7563, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:58:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:58:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:58:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 58, 28, 8145, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:58:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 58, 38, 9170, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:58:38 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52269a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:58:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:58:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 58, 48, 9961, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:58:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:58:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:58:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 58, 58, 11841, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:59:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 59, 8, 12348, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:59:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:59:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 59, 18, 13197, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:59:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:59:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:59:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 59, 28, 13764, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:59:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 59, 38, 15581, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:59:38 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb10ed790>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 15:59:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 15:59:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 59, 48, 16435, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 15:59:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 15:59:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 15:59:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 14, 59, 58, 16827, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:00:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 0, 8, 17703, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:00:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:00:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 0, 18, 18838, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:00:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:00:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:00:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 0, 28, 20087, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:00:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 0, 38, 20699, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:00:38 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baedbd4f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:00:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:00:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 0, 48, 21776, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:00:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:00:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:00:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 0, 58, 22782, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:01:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 1, 8, 23477, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:01:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:01:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 1, 18, 24589, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:01:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:01:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:01:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 1, 28, 25221, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:01:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 1, 38, 26272, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:01:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1eb0a30>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:01:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:01:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 1, 48, 27008, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:01:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:01:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:01:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 1, 58, 29113, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:02:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 2, 8, 30166, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:02:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:02:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 2, 18, 31041, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:02:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:02:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:02:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 2, 28, 32028, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:02:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 2, 38, 33016, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:02:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c3e940>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:02:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:02:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 2, 48, 34140, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:02:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:02:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:02:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 2, 58, 34697, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:03:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 3, 8, 35460, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:03:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:03:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 3, 18, 36154, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:03:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:03:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:03:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 3, 28, 37253, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:03:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 3, 38, 38421, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:03:38 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb640f790>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:03:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:03:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 3, 48, 39861, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:03:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:03:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:03:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 3, 58, 40559, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:04:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 4, 8, 41440, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:04:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:04:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 4, 18, 42626, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:04:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:04:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:04:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 4, 28, 43047, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:04:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 4, 38, 43639, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:04:38 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb5258670>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:04:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:04:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 4, 48, 44603, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:04:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:04:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:04:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 4, 58, 45447, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:05:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 5, 8, 46160, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:05:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:05:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 5, 18, 47012, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:05:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:05:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:05:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 5, 28, 47311, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:05:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 5, 38, 47870, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:05:38 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c3f2e0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:05:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:05:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 5, 48, 48354, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:05:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:05:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:05:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 5, 58, 49528, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:06:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 6, 8, 50357, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:06:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:06:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 6, 18, 50992, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:06:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:06:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:06:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 6, 28, 51902, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:06:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 6, 38, 53031, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:06:38 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c3f160>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:06:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:06:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 6, 48, 54655, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:06:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:06:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:06:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 6, 58, 55720, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:07:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 7, 8, 56837, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:07:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:07:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 7, 18, 58060, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:07:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:07:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:07:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 7, 28, 58490, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:07:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 7, 38, 58960, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:07:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1d35250>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:07:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:07:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 7, 48, 59677, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:07:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.4'
2021-12-09 16:07:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:07:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 7, 58, 61593, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:08:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 8, 8, 61979, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:08:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:08:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 8, 18, 62968, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:08:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:08:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:08:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 8, 28, 64219, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:08:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 8, 38, 64966, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:08:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef7a940>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:08:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:08:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 8, 48, 66147, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:08:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:08:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:08:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 8, 58, 66972, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:09:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 9, 8, 68166, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:09:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:09:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 9, 18, 69762, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:09:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:09:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:09:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 9, 28, 70724, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:09:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 9, 38, 71883, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:09:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb521f1f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:09:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:09:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 9, 48, 73851, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:09:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:09:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:09:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 9, 58, 75414, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:10:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 10, 8, 76502, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:10:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:10:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 10, 18, 77114, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:10:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:10:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:10:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 10, 28, 79107, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:10:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 10, 38, 79889, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:10:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb5280d60>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:10:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:10:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 10, 48, 80483, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:10:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:10:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:10:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 10, 58, 81454, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:11:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 11, 8, 81907, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:11:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:11:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 11, 18, 83934, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:11:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:11:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:11:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 11, 28, 84863, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:11:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 11, 38, 85921, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:11:38 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb20041f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:11:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:11:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 11, 48, 86752, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:11:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:11:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:11:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 11, 58, 88087, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:12:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 12, 8, 88388, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:12:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:12:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 12, 18, 89037, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:12:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:12:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:12:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 12, 28, 91026, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:12:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 12, 38, 91988, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:12:38 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bafeba670>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:12:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:12:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 12, 48, 92547, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:12:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:12:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:12:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 12, 58, 93100, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:13:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 13, 8, 93927, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:13:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:13:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 13, 18, 94675, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:13:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:13:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:13:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 13, 28, 95879, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:13:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 13, 38, 97084, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:13:38 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf44df10>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:13:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:13:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 13, 48, 98215, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:13:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:13:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:13:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 13, 58, 99117, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:14:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 14, 8, 99956, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:14:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:14:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 14, 18, 100403, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:14:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:14:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:14:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 14, 28, 100944, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:14:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 14, 38, 101953, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:14:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52d9580>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:14:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:14:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 14, 48, 102563, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:14:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:14:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:14:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 14, 58, 103179, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:15:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 15, 8, 104026, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:15:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:15:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 15, 18, 105530, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:15:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:15:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:15:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 15, 28, 106741, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:15:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 15, 38, 107585, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:15:38 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52ed520>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:15:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:15:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 15, 48, 108515, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:15:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:15:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:15:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 15, 58, 109378, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:16:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 16, 8, 110559, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:16:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:16:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 16, 18, 111825, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:16:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:16:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:16:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 16, 28, 113098, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:16:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 16, 38, 114411, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:16:38 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf44df70>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:16:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:16:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 16, 48, 115075, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:16:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:16:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:16:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 16, 58, 115796, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:17:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 17, 8, 116998, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:17:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:17:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 17, 18, 117398, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:17:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:17:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:17:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 17, 28, 118679, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:17:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 17, 38, 120930, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:17:38 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c42670>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:17:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:17:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 17, 48, 121677, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:17:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:17:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:17:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 17, 58, 122495, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:18:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 18, 8, 123654, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:18:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:18:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 18, 18, 124892, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:18:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:18:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:18:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 18, 28, 126196, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:18:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 18, 38, 127525, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:18:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1e46700>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:18:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:18:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 18, 48, 128131, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:18:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:18:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:18:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 18, 58, 129470, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:19:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 19, 8, 129886, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:19:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:19:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 19, 18, 130455, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:19:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:19:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:19:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 19, 28, 131292, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:19:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 19, 38, 132428, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:19:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bad269be0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:19:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:19:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 19, 48, 132987, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:19:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:19:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:19:53 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 191, in get_systems
    return await self.structure_systems(response)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 289, in structure_systems
    for this_station in system_metrics.get("stationMetrics"):
TypeError: 'NoneType' object is not iterable
2021-12-09 16:19:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 19, 58, 134024, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:20:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 20, 8, 134967, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:20:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:20:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 20, 18, 137083, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:20:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:20:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:20:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 20, 28, 138179, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:20:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 20, 38, 138795, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:20:38 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6badfa31f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:20:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:20:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 20, 48, 139708, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:20:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:20:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:20:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 20, 58, 140818, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:21:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 21, 8, 141888, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:21:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:21:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 21, 18, 143099, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:21:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:21:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:21:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 21, 28, 145381, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:21:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 21, 38, 146727, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:21:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1e39a00>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:21:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:21:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 21, 48, 147816, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:21:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:21:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:21:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 21, 58, 148266, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:22:11 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 22, 8, 149419, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:22:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:22:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 22, 18, 150678, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:22:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:22:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:22:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 22, 28, 151343, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:22:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 22, 38, 152363, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:22:38 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb5183dc0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:22:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:22:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 22, 48, 152807, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:22:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:22:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:22:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 22, 58, 154051, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:23:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 23, 8, 154736, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:23:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:23:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 23, 18, 155750, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:23:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:23:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:23:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 23, 28, 156892, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:23:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 23, 38, 157560, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:23:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52ed910>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:23:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:23:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 23, 48, 158266, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:23:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:23:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:23:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 23, 58, 159430, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:24:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 24, 8, 160114, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:24:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:24:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 24, 18, 160518, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:24:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:24:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:24:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 24, 28, 161810, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:24:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 24, 38, 162869, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:24:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6badf9e5e0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:24:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:24:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 24, 48, 163282, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:24:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:24:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:24:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 24, 58, 164426, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:25:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 25, 8, 165072, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:25:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:25:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 25, 18, 166096, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:25:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:25:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:25:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 25, 28, 167352, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:25:28 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: 'operationState'
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 191, in get_systems
    return await self.structure_systems(response)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 284, in structure_systems
    sensitive_info = await self.get_sensitive_info(system_id=this_system["id"], station_ids=station_ids)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 616, in get_sensitive_info
    status = status["operationState"]
KeyError: 'operationState'
2021-12-09 16:25:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 25, 38, 168267, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:25:38 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb5326e80>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:25:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:25:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 25, 48, 168969, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:25:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:25:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:25:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 25, 58, 170180, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:26:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 26, 8, 170706, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:26:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:26:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 26, 18, 171948, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:26:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:26:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:26:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 26, 28, 172908, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:26:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 26, 38, 173621, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:26:38 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baede6970>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:26:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:26:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 26, 48, 174775, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:26:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:26:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:26:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 26, 58, 175451, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:27:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 27, 8, 176677, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:27:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:27:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 27, 18, 178076, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:27:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:27:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:27:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 27, 28, 178731, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:27:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 27, 38, 179217, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:27:38 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb51f46a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:27:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:27:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 27, 48, 180054, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:27:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:27:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:27:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 27, 58, 181293, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:28:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 28, 8, 182154, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:28:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:28:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 28, 18, 182674, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:28:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:28:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:28:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 28, 28, 183967, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:28:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 28, 38, 184828, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:28:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1099d60>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:28:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:28:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 28, 48, 185847, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:28:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:28:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:28:54 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 191, in get_systems
    return await self.structure_systems(response)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 289, in structure_systems
    for this_station in system_metrics.get("stationMetrics"):
TypeError: 'NoneType' object is not iterable
2021-12-09 16:28:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 28, 58, 186623, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:29:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 29, 8, 187242, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:29:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:29:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 29, 18, 188128, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:29:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:29:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:29:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 29, 28, 188890, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:29:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 29, 38, 189428, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:29:38 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf3daa90>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:29:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:29:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 29, 48, 190608, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:29:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:29:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:29:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 29, 58, 192046, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:30:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 30, 8, 192773, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:30:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:30:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 30, 18, 194171, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:30:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:30:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:30:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 30, 28, 194861, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:30:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 30, 38, 195741, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:30:38 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf3daf40>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:30:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:30:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 30, 48, 196672, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:30:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:30:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:30:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 30, 58, 197270, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:31:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 31, 8, 198249, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:31:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:31:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 31, 18, 199076, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:31:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:31:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:31:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 31, 28, 199968, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:31:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 31, 38, 200441, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:31:38 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1e46700>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:31:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:31:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 31, 48, 201082, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:31:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:31:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:31:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 31, 58, 201805, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:32:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 32, 8, 202354, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:32:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:32:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 32, 18, 203575, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:32:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:32:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:32:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 32, 28, 204635, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:32:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 32, 38, 205075, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:32:38 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb5336370>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:32:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:32:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 32, 48, 205669, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:32:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:32:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:32:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 32, 58, 208025, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:33:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 33, 8, 208825, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:33:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:33:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 33, 18, 210396, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:33:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:33:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:33:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 33, 28, 210919, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:33:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 33, 38, 212030, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:33:38 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbb577fa0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:33:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:33:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 33, 48, 212808, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:33:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:33:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:33:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 33, 58, 213510, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:34:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 34, 8, 214239, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:34:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:34:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 34, 18, 215532, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:34:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:34:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:34:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 34, 28, 216565, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:34:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 34, 38, 217527, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:34:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf3d9d60>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:34:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:34:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 34, 48, 218088, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:34:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:34:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:34:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 34, 58, 218917, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:35:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 35, 8, 219370, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:35:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:35:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 35, 18, 220579, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:35:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:35:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:35:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 35, 28, 221936, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:35:30 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 191, in get_systems
    return await self.structure_systems(response)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 289, in structure_systems
    for this_station in system_metrics.get("stationMetrics"):
TypeError: 'NoneType' object is not iterable
2021-12-09 16:35:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 35, 38, 223287, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:35:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae1c88b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:35:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:35:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 35, 48, 224655, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:35:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:35:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:35:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 35, 58, 225514, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:36:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 36, 8, 226122, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:36:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:36:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 36, 18, 227195, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:36:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:36:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:36:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 36, 28, 228213, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:36:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 36, 38, 228886, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:36:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbe199070>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:36:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:36:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 36, 48, 230237, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:36:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:36:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:36:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 36, 58, 230779, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:37:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 37, 8, 232159, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:37:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:37:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 37, 18, 233475, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:37:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:37:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:37:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 37, 28, 233865, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:37:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 37, 38, 234458, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:37:38 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6badf9ebe0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:37:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:37:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 37, 48, 234811, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:37:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:37:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:37:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 37, 58, 235349, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:38:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 38, 8, 236542, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:38:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:38:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 38, 18, 237457, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:38:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:38:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:38:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 38, 28, 237962, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:38:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 38, 38, 239227, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:38:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbe1ba760>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:38:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:38:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 38, 48, 239932, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:38:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:38:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:38:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 38, 58, 241110, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:39:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 39, 8, 242013, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:39:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:39:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 39, 18, 242734, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:39:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:39:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:39:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 39, 28, 243996, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:39:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 39, 38, 244452, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:39:38 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbe1b6040>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:39:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:39:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 39, 48, 245132, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:39:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:39:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:39:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 39, 58, 246342, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:40:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 40, 8, 247070, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:40:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:40:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 40, 18, 247962, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:40:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:40:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:40:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 40, 28, 249046, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:40:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 40, 38, 251091, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:40:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf3fed90>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:40:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:40:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 40, 48, 251842, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:40:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:40:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:40:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 40, 58, 252428, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:41:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 41, 8, 253082, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:41:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:41:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 41, 18, 253567, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:41:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:41:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:41:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 41, 28, 254116, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:41:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 41, 38, 255377, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:41:38 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf8126a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:41:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:41:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 41, 48, 256263, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:41:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 16:41:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:41:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 41, 58, 257449, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:42:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 42, 8, 258388, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:42:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:42:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 42, 18, 258872, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:42:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:42:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:42:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 42, 28, 260032, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:42:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 42, 38, 260639, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:42:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf812370>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:42:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:42:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 42, 48, 261256, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:42:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:42:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:42:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 42, 58, 261856, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:43:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 43, 8, 262734, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:43:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:43:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 43, 18, 263075, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:43:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:43:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:43:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 43, 28, 264403, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:43:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 43, 38, 264995, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:43:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae9260d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:43:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:43:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 43, 48, 266175, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:43:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:43:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:43:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 43, 58, 267246, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:44:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 44, 8, 268418, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:44:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:44:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 44, 18, 269613, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:44:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:44:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:44:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 44, 28, 270582, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:44:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 44, 38, 270933, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:44:38 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6badfa39d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:44:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:44:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 44, 48, 272059, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:44:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:44:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:44:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 44, 58, 273011, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:45:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 45, 8, 274224, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:45:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:45:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:45:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:45:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 45, 28, 275132, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:45:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 45, 38, 276136, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:45:38 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1bce220>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:45:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:45:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 45, 48, 277063, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:45:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:45:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:45:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 45, 58, 277771, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:46:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 46, 8, 278606, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:46:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:46:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 46, 18, 279699, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:46:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:46:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:46:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 46, 28, 280583, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:46:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 46, 38, 282147, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:46:38 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52b2c70>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:46:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:46:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 46, 48, 282840, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:46:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:46:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:46:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 46, 58, 283425, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:47:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 47, 8, 284637, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:47:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:47:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 47, 18, 285449, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:47:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:47:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:47:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 47, 28, 287817, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:47:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 47, 38, 288581, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:47:38 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1037910>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:47:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:47:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 47, 48, 290453, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:47:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:47:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:47:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 47, 58, 291350, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:48:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 48, 8, 292056, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:48:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:48:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 48, 18, 293560, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:48:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:48:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:48:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 48, 28, 294995, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:48:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 48, 38, 295625, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:48:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbe962190>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:48:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:48:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 48, 48, 296987, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:48:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:48:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:48:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 48, 58, 298549, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:49:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 49, 8, 299293, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:49:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:49:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 49, 18, 300016, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:49:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:49:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:49:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 49, 28, 300916, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:49:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 49, 38, 301816, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:49:38 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52ea0d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:49:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:49:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 49, 48, 303230, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:49:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:49:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:49:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 49, 58, 304761, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:50:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 50, 8, 305910, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:50:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:50:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 50, 18, 307103, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:50:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:50:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:50:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 50, 28, 307848, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:50:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 50, 38, 308726, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:50:38 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb503cc70>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:50:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:50:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 50, 48, 309105, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:50:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:50:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:50:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 50, 58, 309709, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:51:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 51, 8, 310861, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:51:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:51:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 51, 18, 312014, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:51:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:51:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:51:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 51, 28, 313214, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:51:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 51, 38, 314710, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:51:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf44db20>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:51:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:51:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 51, 48, 320833, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:51:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:51:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:51:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 51, 58, 321380, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:52:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 52, 8, 322367, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:52:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:52:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 52, 18, 323266, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:52:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:52:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:52:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 52, 28, 324153, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:52:36 ERROR (MainThread) [custom_components.googlewifi] Error fetching GoogleWifi data: Error connecting to GoogleWifi: 
2021-12-09 16:52:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 52, 38, 325136, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:52:38 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1e41070>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:52:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:52:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 52, 48, 326636, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:52:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:52:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:52:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 52, 58, 327696, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:53:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 53, 8, 328676, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:53:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:53:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 53, 18, 329672, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:53:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:53:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:53:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 53, 28, 330632, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:53:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 53, 38, 331282, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:53:38 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb521f070>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:53:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:53:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 53, 48, 331751, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:53:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:53:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:53:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 53, 58, 332170, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:54:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 54, 8, 333791, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:54:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:54:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 54, 18, 334830, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:54:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:54:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:54:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 54, 28, 336023, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:54:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 54, 38, 336870, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:54:39 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1d35d00>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:54:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:54:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 54, 48, 337410, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:54:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:54:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:54:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 54, 58, 337736, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:55:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 55, 8, 338756, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:55:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:55:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 55, 18, 339768, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:55:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:55:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:55:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 55, 28, 340821, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:55:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 55, 38, 341782, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:55:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf63ac70>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:55:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:55:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 55, 48, 342920, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:55:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:55:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:55:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 55, 58, 343785, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:56:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 56, 8, 344711, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:56:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:56:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 56, 18, 345657, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:56:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:56:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:56:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 56, 28, 346413, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:56:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 56, 38, 347848, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:56:39 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baffa66a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:56:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:56:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 56, 48, 350083, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:56:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:56:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:56:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 56, 58, 352635, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:57:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 57, 8, 354866, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:57:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:57:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 57, 18, 355527, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:57:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:57:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:57:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 57, 28, 356731, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:57:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 57, 38, 357599, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:57:39 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb10e6b50>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:57:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:57:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 57, 48, 358065, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:57:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:57:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:57:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 57, 58, 359076, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:58:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 58, 8, 360144, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:58:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:58:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 58, 18, 360721, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:58:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:58:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:58:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 58, 28, 362178, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:58:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 58, 38, 363796, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:58:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae923640>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:58:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:58:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 58, 48, 365417, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:58:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:58:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:58:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 58, 58, 366033, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:59:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 59, 8, 367053, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:59:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:59:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 59, 18, 368039, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:59:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 16:59:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 16:59:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 59, 28, 369510, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:59:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 59, 38, 371422, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:59:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baedcc820>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 16:59:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 16:59:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 59, 48, 372475, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 16:59:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 15, 59, 58, 373487, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:00:02 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:00:02 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:00:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 0, 8, 374758, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:00:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:00:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 0, 18, 376267, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:00:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:00:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:00:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 0, 28, 377003, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:00:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 0, 38, 377688, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:00:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c3a100>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:00:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:00:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 0, 48, 378758, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:00:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:00:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:00:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 0, 58, 379849, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:01:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 1, 8, 380557, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:01:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:01:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 1, 18, 381477, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:01:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:01:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:01:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 1, 28, 382612, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:01:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 1, 38, 383640, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:01:39 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbe00b670>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:01:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:01:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 1, 48, 384724, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:01:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:01:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:01:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 1, 58, 385991, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:02:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 2, 8, 387210, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:02:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:02:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 2, 18, 387883, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:02:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:02:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:02:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 2, 28, 388786, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:02:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 2, 38, 390340, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:02:39 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb51e3880>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:02:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:02:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 2, 48, 392008, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:02:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:02:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:02:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 2, 58, 392897, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:03:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 3, 8, 393802, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:03:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:03:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 3, 18, 395008, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:03:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:03:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:03:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 3, 28, 396287, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:03:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 3, 38, 397751, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:03:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef13f70>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:03:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:03:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 3, 48, 399009, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:03:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:03:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:03:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 3, 58, 400667, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:04:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 4, 8, 401591, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:04:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:04:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 4, 18, 403212, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:04:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:04:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:04:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 4, 28, 404388, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:04:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 4, 38, 405174, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:04:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbe199e80>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:04:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:04:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 4, 48, 405908, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:04:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:04:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:04:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 4, 58, 407402, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:05:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 5, 8, 408456, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:05:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:05:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 5, 18, 409775, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:05:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:05:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:05:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 5, 28, 410727, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:05:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 5, 38, 412667, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:05:39 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c19370>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:05:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:05:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 5, 48, 415254, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:05:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:05:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:05:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 5, 58, 417466, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:06:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 6, 8, 419553, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:06:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:06:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 6, 18, 420755, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:06:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:06:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:06:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 6, 28, 421550, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:06:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 6, 38, 422733, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:06:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb5214a90>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:06:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:06:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 6, 48, 424269, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:06:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:06:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:06:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 6, 58, 424766, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:07:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 7, 8, 426348, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:07:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:07:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 7, 18, 432054, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:07:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:07:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:07:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 7, 28, 433433, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:07:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 7, 38, 434368, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:07:39 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae7d5cd0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:07:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:07:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 7, 48, 435970, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:07:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:07:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:07:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 7, 58, 436367, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:08:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 8, 8, 437164, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:08:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:08:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 8, 18, 438165, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:08:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:08:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:08:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 8, 28, 439866, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:08:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 8, 38, 441200, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:08:39 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bafebad60>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:08:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:08:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 8, 48, 441743, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:08:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:08:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:08:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 8, 58, 442669, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:09:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 9, 8, 444223, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:09:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:09:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 9, 18, 445206, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:09:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:09:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:09:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 9, 28, 446409, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:09:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 9, 38, 447498, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:09:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c3a520>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:09:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:09:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 9, 48, 448725, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:09:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:09:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:09:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 9, 58, 449763, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:10:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 10, 8, 450889, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:10:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:10:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 10, 18, 451522, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:10:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:10:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:10:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 10, 28, 452250, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:10:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 10, 38, 453557, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:10:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1f035b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:10:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:10:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 10, 48, 455058, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:10:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:10:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:10:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 10, 58, 455971, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:11:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 11, 8, 456934, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:11:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:11:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 11, 18, 457826, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:11:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:11:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:11:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 11, 28, 458874, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:11:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 11, 38, 459480, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:11:39 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52cfb80>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:11:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:11:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 11, 48, 460221, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:11:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:11:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:11:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 11, 58, 461794, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:12:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 12, 8, 462984, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:12:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:12:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 12, 18, 463950, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:12:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 12, 28, 465549, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:12:30 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:12:30 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:12:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 12, 38, 467123, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:12:39 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb642f4c0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:12:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:12:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 12, 48, 468802, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:12:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:12:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:12:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 12, 58, 469966, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:13:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 13, 8, 471152, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:13:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:13:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 13, 18, 472284, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:13:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:13:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:13:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 13, 28, 473647, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:13:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 13, 38, 473960, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:13:39 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1e39970>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:13:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:13:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 13, 48, 475657, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:13:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:13:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:13:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 13, 58, 477826, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:14:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 14, 8, 479680, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:14:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:14:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 14, 18, 481157, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:14:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:14:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:14:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 14, 28, 482331, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:14:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 14, 38, 483419, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:14:39 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbf29c670>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:14:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:14:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 14, 48, 484125, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:14:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:14:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:14:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 14, 58, 485225, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:15:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 15, 8, 486783, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:15:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:15:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 15, 18, 488182, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:15:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:15:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:15:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 15, 28, 489785, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:15:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 15, 38, 491659, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:15:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52edb50>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:15:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:15:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 15, 48, 492404, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:15:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:15:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:15:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 15, 58, 493673, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:16:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 16, 8, 495371, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:16:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:16:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 16, 18, 497442, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:16:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:16:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:16:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 16, 28, 498458, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:16:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 16, 38, 499646, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:16:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae937b20>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:16:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:16:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 16, 48, 500799, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:16:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:16:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:16:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 16, 58, 501425, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:17:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 17, 8, 502914, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:17:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:17:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 17, 18, 503352, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:17:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:17:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:17:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 17, 28, 504326, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:17:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 17, 38, 505292, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:17:39 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbe1da160>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:17:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:17:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 17, 48, 505687, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:17:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:17:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:17:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 17, 58, 507026, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:18:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 18, 8, 508144, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:18:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:18:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 18, 18, 509739, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:18:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:18:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:18:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 18, 28, 511070, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:18:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 18, 38, 512032, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:18:39 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbe1da670>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:18:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:18:44 ERROR (MainThread) [custom_components.googlewifi] Error fetching GoogleWifi data: Error connecting to GoogleWifi: 
2021-12-09 17:18:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 18, 48, 513575, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:18:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 18, 58, 515097, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:19:02 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:19:02 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:19:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 19, 8, 515951, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:19:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:19:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 19, 18, 516442, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:19:25 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:19:25 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:19:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 19, 28, 517267, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:19:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 19, 38, 518890, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:19:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baedbda60>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:19:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:19:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 19, 48, 520681, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:19:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:19:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:19:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 19, 58, 521506, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:20:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 20, 8, 522558, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:20:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:20:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 20, 18, 524249, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:20:26 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:20:26 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:20:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 20, 28, 525093, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:20:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 20, 38, 526035, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:20:39 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1035b80>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:20:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:20:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 20, 48, 526760, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:20:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:20:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:20:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 20, 58, 528364, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:21:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 21, 8, 530147, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:21:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:21:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 21, 18, 531481, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:21:25 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:21:25 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:21:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 21, 28, 532857, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:21:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 21, 38, 533649, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:21:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb007fca0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:21:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:21:45 ERROR (MainThread) [mill] Failed to send request, {"timer":"","times":"","subDomain":"863","isHoliday":0,"description":"","errorCode":3824,"currentTemp":23.0,"error":"device response error","deviceId":172654}
2021-12-09 17:21:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 21, 48, 534800, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:21:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:21:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:21:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 21, 58, 535736, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:22:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 22, 8, 538059, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:22:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:22:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 22, 18, 540239, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:22:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 22, 28, 542057, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:22:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 22, 38, 543135, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:22:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbe1f1910>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:22:40 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 17:22:42 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 17:22:42 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 17:22:42 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 17:22:42 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:22:42 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 17:22:42 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 17:22:42 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 17:22:42 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_humidity/config: b'{"dev_cla":"humidity","unit_of_meas":"%","stat_cla":"measurement","name":"Outdoor Bonsai Humidity","stat_t":"bonsaitemp/sensor/outdoor_bonsai_humidity/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_humidity","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 17:22:42 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 17:22:42 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_humidity, sending update
2021-12-09 17:22:42 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_humidity') '{'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 17:22:42 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_humidity
2021-12-09 17:22:42 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_humidity'): deque([])
2021-12-09 17:22:43 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:22:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:22:44 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'online'
2021-12-09 17:22:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 22, 48, 544779, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:22:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:22:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:22:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 22, 58, 546600, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:23:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 23, 8, 548062, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:23:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:23:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 23, 18, 549859, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:23:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:23:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:23:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 23, 28, 550846, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:23:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 23, 38, 552488, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:23:39 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52d3250>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:23:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:23:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 23, 48, 553258, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:23:54 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:23:54 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:23:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 23, 58, 554829, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:24:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 24, 8, 556124, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:24:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:24:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 24, 18, 556925, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:24:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:24:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:24:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 24, 28, 558090, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:24:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 24, 38, 559547, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:24:39 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb4ea8250>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:24:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:24:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 24, 48, 561145, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:24:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:24:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:24:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 24, 58, 561873, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:25:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:25:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 25, 18, 565365, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:25:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:25:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:25:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 25, 28, 566290, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:25:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 25, 38, 566916, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:25:39 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c1b610>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:25:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:25:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 25, 48, 568383, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:25:54 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:25:54 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:25:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 25, 58, 569004, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:26:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 26, 8, 571278, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:26:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:26:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 26, 18, 572956, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:26:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:26:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:26:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 26, 28, 575562, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:26:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 26, 38, 577586, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:26:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef173a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:26:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:26:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 26, 48, 577935, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:26:58 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:26:58 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:26:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 26, 58, 578899, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:27:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 27, 8, 580519, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:27:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:27:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 27, 18, 581828, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:27:19 ERROR (MainThread) [frontend.js.latest.202111030] :0:0 Script error.
2021-12-09 17:27:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:27:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:27:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 27, 28, 583585, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:27:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 27, 38, 584120, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:27:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb10ed400>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:27:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:27:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 27, 48, 585838, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:27:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 27, 58, 587241, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:28:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 28, 8, 588818, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:28:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:28:15 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:28:15 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:28:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 28, 18, 589631, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:28:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:28:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'83'
2021-12-09 17:28:27 ERROR (MainThread) [homeassistant.core] Unable to remove unknown job listener (<Job HassJobType.Callback <function async_setup_entry.<locals>.async_finish_startup at 0x7f6bc0d5ce50>>, None)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/core.py", line 854, in _async_remove_listener
    self._listeners[event_type].remove(filterable_job)
KeyError: 'homeassistant_started'
2021-12-09 17:28:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 28, 28, 591164, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:28:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 28, 38, 593472, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:28:39 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb0480130>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:28:41 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 191, in get_systems
    return await self.structure_systems(response)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 289, in structure_systems
    for this_station in system_metrics.get("stationMetrics"):
TypeError: 'NoneType' object is not iterable
2021-12-09 17:28:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:28:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 28, 48, 595593, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:28:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:28:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:28:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 28, 58, 596635, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:29:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 29, 8, 598159, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:29:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:29:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 29, 18, 599501, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:29:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:29:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:29:22 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 191, in get_systems
    return await self.structure_systems(response)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 289, in structure_systems
    for this_station in system_metrics.get("stationMetrics"):
TypeError: 'NoneType' object is not iterable
2021-12-09 17:29:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 29, 28, 601051, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:29:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 29, 38, 602469, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:29:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52a94c0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:29:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:29:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 29, 48, 603654, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:29:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:29:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:29:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 29, 58, 604315, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:30:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 30, 8, 605896, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:30:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:30:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 30, 18, 607335, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:30:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 30, 28, 608323, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:30:34 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:30:34 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:30:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 30, 38, 609200, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:30:39 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae9688e0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:30:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:30:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 30, 48, 610186, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:30:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:30:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:30:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 30, 58, 611150, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:31:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 31, 8, 612360, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:31:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:31:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 31, 18, 612849, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:31:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 31, 28, 614436, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:31:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 31, 38, 615864, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:31:39 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae969f70>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:31:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:31:46 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 17:31:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 31, 48, 617558, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:31:51 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 17:31:51 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 17:31:51 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 17:31:51 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 17:31:51 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 17:31:51 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 17:31:51 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:31:51 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_humidity/config: b'{"dev_cla":"humidity","unit_of_meas":"%","stat_cla":"measurement","name":"Outdoor Bonsai Humidity","stat_t":"bonsaitemp/sensor/outdoor_bonsai_humidity/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_humidity","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 17:31:51 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 17:31:51 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_humidity, sending update
2021-12-09 17:31:51 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_humidity') '{'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 17:31:51 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_humidity
2021-12-09 17:31:51 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_humidity'): deque([])
2021-12-09 17:31:51 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:31:51 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'online'
2021-12-09 17:31:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:31:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:31:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 31, 58, 619392, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:32:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 32, 8, 619728, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:32:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:32:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 32, 18, 622243, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:32:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:32:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:32:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 32, 28, 623363, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:32:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 32, 38, 624583, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:32:39 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1e462b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:32:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:32:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 32, 48, 624896, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:32:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:32:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:32:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 32, 58, 626116, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:33:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 33, 8, 627153, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:33:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:33:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 33, 18, 627760, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:33:26 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:33:26 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:33:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 33, 28, 629457, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:33:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 33, 38, 630623, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:33:39 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6badfcc130>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:33:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:33:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 33, 48, 632190, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:33:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:33:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:33:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 33, 58, 633042, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:34:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 34, 8, 634320, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:34:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:34:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 34, 18, 635472, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:34:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:34:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:34:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 34, 28, 635993, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:34:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 34, 38, 636795, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:34:39 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf3dc220>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:34:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:34:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 34, 48, 638242, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:34:54 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:34:54 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:34:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 34, 58, 639240, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:35:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 35, 8, 640048, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:35:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:35:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 35, 18, 641439, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:35:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:35:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:35:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 35, 28, 642224, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:35:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 35, 38, 643162, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:35:39 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae9773d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:35:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:35:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 35, 48, 644630, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:35:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:35:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:35:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 35, 58, 646264, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:36:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 36, 8, 647380, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:36:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:36:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 36, 18, 649232, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:36:24 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:36:24 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:36:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 36, 28, 650730, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:36:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 36, 38, 651131, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:36:39 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf3dc460>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:36:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:36:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 36, 48, 652766, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:36:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 36, 58, 653144, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:37:04 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 17:37:07 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 17:37:07 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 17:37:07 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 17:37:07 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:37:07 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 17:37:07 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 17:37:07 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 17:37:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 37, 8, 654388, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:37:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:37:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 37, 18, 655361, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:37:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 37, 28, 656682, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:37:34 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 17:37:35 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 17:37:35 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 17:37:35 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 17:37:35 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 17:37:35 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 17:37:35 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 17:37:35 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:37:35 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_humidity/config: b'{"dev_cla":"humidity","unit_of_meas":"%","stat_cla":"measurement","name":"Outdoor Bonsai Humidity","stat_t":"bonsaitemp/sensor/outdoor_bonsai_humidity/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_humidity","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 17:37:35 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 17:37:35 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_humidity, sending update
2021-12-09 17:37:35 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:37:35 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'online'
2021-12-09 17:37:35 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_humidity') '{'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 17:37:35 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_humidity
2021-12-09 17:37:35 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_humidity'): deque([])
2021-12-09 17:37:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 37, 38, 657774, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:37:39 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb5201f10>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:37:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:37:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 37, 48, 658847, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:37:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:37:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:37:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 37, 58, 659537, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:38:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 38, 8, 660117, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:38:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:38:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 38, 18, 660860, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:38:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:38:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:38:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 38, 28, 662272, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:38:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 38, 38, 664918, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:38:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae9695b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:38:40 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 191, in get_systems
    return await self.structure_systems(response)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 289, in structure_systems
    for this_station in system_metrics.get("stationMetrics"):
TypeError: 'NoneType' object is not iterable
2021-12-09 17:38:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:38:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 38, 48, 665190, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:38:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:38:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:38:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 38, 58, 666811, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:39:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 39, 8, 667753, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:39:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:39:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 39, 18, 669111, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:39:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:39:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:39:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 39, 28, 669820, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:39:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 39, 38, 671554, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:39:39 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae19f700>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:39:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:39:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 39, 48, 672124, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:39:58 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.1'
2021-12-09 17:39:58 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:39:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 39, 58, 673847, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:40:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 40, 8, 674867, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:40:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:40:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 40, 18, 675675, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:40:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:40:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:40:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 40, 28, 676563, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:40:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 40, 38, 677441, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:40:39 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb5235cd0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:40:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:40:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 40, 48, 678672, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:40:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:40:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:40:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 40, 58, 679635, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:41:00 ERROR (MainThread) [custom_components.googlewifi] Error fetching GoogleWifi data: Error connecting to GoogleWifi: 
2021-12-09 17:41:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 41, 8, 681646, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:41:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:41:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 41, 18, 682847, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:41:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:41:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:41:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 41, 28, 684267, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:41:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 41, 38, 685494, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:41:39 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae977be0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:41:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:41:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 41, 48, 686226, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:41:56 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:41:56 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:41:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 41, 58, 686858, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:42:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 42, 8, 687960, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:42:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:42:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 42, 18, 689182, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:42:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:42:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:42:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 42, 28, 690235, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:42:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 42, 38, 690748, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:42:39 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae969280>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:42:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:42:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 42, 48, 691055, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:42:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:42:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:42:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 42, 58, 693065, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:43:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 43, 8, 694745, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:43:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:43:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 43, 18, 695981, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:43:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:43:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:43:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 43, 28, 696552, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:43:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 43, 38, 697631, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:43:39 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb5235730>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:43:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:43:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 43, 48, 698263, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:43:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:43:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:43:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 43, 58, 699421, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:44:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 44, 8, 700049, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:44:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:44:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 44, 18, 700381, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:44:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:44:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:44:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 44, 28, 701451, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:44:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 44, 38, 702386, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:44:39 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb51fca90>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:44:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:44:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 44, 48, 703212, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:44:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:44:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:44:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 44, 58, 704795, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:45:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 45, 8, 705922, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:45:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:45:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 45, 18, 707191, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:45:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:45:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:45:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 45, 28, 707884, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:45:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 45, 38, 709066, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:45:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1acd460>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:45:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:45:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 45, 48, 709499, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:45:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:45:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:45:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 45, 58, 709966, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:46:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 46, 8, 711086, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:46:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:46:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 46, 18, 711920, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:46:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 46, 28, 713250, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:46:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 46, 38, 714410, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:46:39 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1c1bdf0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:46:40 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:46:40 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:46:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:46:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 46, 48, 715438, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:46:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:46:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:46:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 46, 58, 716464, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:47:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 47, 8, 717382, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:47:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:47:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 47, 18, 718331, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:47:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:47:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:47:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 47, 28, 719512, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:47:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 47, 38, 721828, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:47:39 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6badf9d220>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:47:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:47:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 47, 48, 722849, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:47:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:47:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:47:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 47, 58, 723339, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:48:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 48, 8, 723990, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:48:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:48:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 48, 18, 724989, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:48:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:48:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:48:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 48, 28, 725377, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:48:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 48, 38, 725864, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:48:39 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1acd4c0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:48:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:48:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 48, 48, 727541, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:48:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:48:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:48:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 48, 58, 728219, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:49:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 49, 8, 729417, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:49:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:49:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 49, 18, 729848, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:49:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:49:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:49:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 49, 28, 730304, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:49:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 49, 38, 730819, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:49:39 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb51e3d90>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:49:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:49:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 49, 48, 731473, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:49:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:49:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:49:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 49, 58, 731992, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:50:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 50, 8, 733099, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:50:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:50:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 50, 18, 733488, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:50:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:50:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:50:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 50, 28, 734447, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:50:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 50, 38, 735928, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:50:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1016460>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:50:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:50:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 50, 48, 736189, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:50:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:50:54 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:50:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 50, 58, 736665, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:51:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 51, 8, 737416, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:51:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:51:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 51, 18, 738131, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:51:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:51:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:51:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 51, 28, 738671, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:51:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 51, 38, 739734, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:51:39 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baedbd640>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:51:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:51:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 51, 48, 740990, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:51:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:51:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:51:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 51, 58, 741994, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:52:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 52, 8, 743485, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:52:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:52:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 52, 18, 744404, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:52:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:52:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:52:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 52, 28, 746242, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:52:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 52, 38, 746622, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:52:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef0a430>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:52:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:52:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 52, 48, 747363, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:52:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:52:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:52:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 52, 58, 747740, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:53:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 53, 8, 749221, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:53:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:53:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 53, 18, 750117, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:53:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:53:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:53:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 53, 28, 751636, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:53:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 53, 38, 753101, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:53:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef0ae50>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:53:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:53:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 53, 48, 754863, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:53:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:53:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:53:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 53, 58, 756106, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:54:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 54, 8, 757794, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:54:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:54:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 54, 18, 758123, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:54:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:54:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:54:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 54, 28, 759493, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:54:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 54, 38, 760918, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:54:39 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb4ea8370>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:54:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:54:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 54, 48, 762380, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:54:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 54, 58, 763208, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:55:02 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:55:02 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:55:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 55, 8, 764246, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:55:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:55:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 55, 18, 764978, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:55:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:55:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:55:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 55, 28, 765740, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:55:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 55, 38, 766765, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:55:39 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb5088ee0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:55:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:55:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 55, 48, 767148, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:55:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:55:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:55:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 55, 58, 767489, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:56:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 56, 8, 769389, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:56:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:56:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 56, 18, 770092, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:56:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:56:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:56:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 56, 28, 772376, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:56:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 56, 38, 773353, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:56:39 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1d53e50>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:56:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:56:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 56, 48, 774383, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:56:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:56:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:56:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 56, 58, 775510, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:57:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 57, 8, 776780, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:57:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:57:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 57, 18, 778663, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:57:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:57:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:57:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 57, 28, 780013, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:57:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 57, 38, 780567, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:57:39 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae16f700>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:57:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:57:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 57, 48, 781895, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:57:56 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:57:56 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:57:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 57, 58, 783797, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:58:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 58, 8, 784899, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:58:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:58:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 58, 18, 785369, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:58:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 17:58:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:58:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 58, 28, 786100, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:58:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 58, 38, 788093, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:58:39 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6badf9ddf0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:58:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:58:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 58, 48, 789470, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:58:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:58:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:58:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 58, 58, 790409, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:59:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 59, 8, 791259, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:59:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:59:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 59, 18, 793024, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:59:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 17:59:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 17:59:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 59, 28, 793676, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:59:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 59, 38, 794135, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:59:39 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae1c8280>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 17:59:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 17:59:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 59, 48, 795623, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 17:59:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 16, 59, 58, 796554, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:00:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 0, 8, 797735, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:00:10 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 18:00:13 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 18:00:13 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:00:13 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 18:00:13 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 18:00:13 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 18:00:13 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 18:00:13 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 18:00:13 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_humidity/config: b'{"dev_cla":"humidity","unit_of_meas":"%","stat_cla":"measurement","name":"Outdoor Bonsai Humidity","stat_t":"bonsaitemp/sensor/outdoor_bonsai_humidity/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_humidity","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 18:00:13 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 18:00:13 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_humidity, sending update
2021-12-09 18:00:13 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_humidity') '{'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 18:00:13 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_humidity
2021-12-09 18:00:13 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_humidity'): deque([])
2021-12-09 18:00:13 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:00:13 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'online'
2021-12-09 18:00:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:00:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 0, 18, 799115, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:00:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:00:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:00:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 0, 28, 799620, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:00:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 0, 38, 801132, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:00:39 WARNING (SyncWorker_6) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae1b80a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:00:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:00:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 0, 48, 801992, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:00:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:00:55 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:00:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 0, 58, 802692, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:01:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 1, 8, 804344, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:01:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:01:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 1, 18, 805427, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:01:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:01:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:01:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 1, 28, 807539, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:01:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 1, 38, 809376, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:01:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae9235b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:01:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:01:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 1, 48, 809905, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:01:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:01:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:01:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 1, 58, 810471, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:02:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 2, 8, 811274, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:02:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:02:18 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 2, 18, 812008, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:02:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:02:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:02:28 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 2, 28, 813444, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:02:38 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 2, 38, 815059, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:02:39 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb4e31ca0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:02:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:02:48 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 2, 48, 816295, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:02:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:02:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:02:58 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 2, 58, 816745, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:03:08 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 3, 8, 818213, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:03:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:03:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 3, 18, 821059, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:03:28 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:03:28 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:03:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 3, 28, 823186, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:03:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 3, 38, 824267, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:03:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae923190>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:03:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:03:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 3, 48, 825415, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:03:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:03:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:03:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 3, 58, 827171, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:04:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 4, 8, 828313, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:04:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:04:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 4, 18, 828826, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:04:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:04:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:04:25 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 191, in get_systems
    return await self.structure_systems(response)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 289, in structure_systems
    for this_station in system_metrics.get("stationMetrics"):
TypeError: 'NoneType' object is not iterable
2021-12-09 18:04:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 4, 28, 831823, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:04:32 ERROR (MainThread) [mill] Failed to send request, {"timer":"","times":"","subDomain":"863","isHoliday":0,"description":"","errorCode":3824,"currentTemp":23.0,"error":"device response error","deviceId":172654}
2021-12-09 18:04:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 4, 38, 833583, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:04:39 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbe1ba0a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:04:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:04:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 4, 48, 834434, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:04:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:04:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:04:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 4, 58, 834987, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:05:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 5, 8, 836379, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:05:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:05:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 5, 18, 837625, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:05:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:05:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:05:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 5, 28, 838928, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:05:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 5, 38, 839908, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:05:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae970f70>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:05:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:05:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 5, 48, 841049, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:05:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:05:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:05:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 5, 58, 841788, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:06:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 6, 8, 842739, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:06:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:06:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 6, 18, 843683, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:06:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:06:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:06:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 6, 28, 844840, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:06:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 6, 38, 846131, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:06:39 WARNING (SyncWorker_1) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1ed6b50>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:06:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:06:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 6, 48, 847472, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:06:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 6, 58, 848619, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:07:06 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:07:06 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:07:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 7, 8, 849249, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:07:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:07:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 7, 18, 850687, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:07:24 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:07:24 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:07:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 7, 28, 851048, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:07:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 7, 38, 851920, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:07:39 WARNING (SyncWorker_7) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb523a520>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:07:40 ERROR (MainThread) [custom_components.googlewifi] Error fetching GoogleWifi data: Error connecting to GoogleWifi: 
2021-12-09 18:07:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:07:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 7, 48, 853244, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:07:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 7, 58, 855480, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:08:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 8, 8, 856983, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:08:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:08:16 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 18:08:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 8, 18, 858290, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:08:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 8, 28, 859500, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:08:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 8, 38, 861498, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:08:39 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb528ec70>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:08:39 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 18:08:39 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 18:08:39 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 18:08:39 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:08:39 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 18:08:39 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 18:08:39 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 18:08:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:08:44 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_humidity/config: b'{"dev_cla":"humidity","unit_of_meas":"%","stat_cla":"measurement","name":"Outdoor Bonsai Humidity","stat_t":"bonsaitemp/sensor/outdoor_bonsai_humidity/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_humidity","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 18:08:44 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:08:44 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 18:08:44 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_humidity, sending update
2021-12-09 18:08:44 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_humidity') '{'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 18:08:44 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_humidity
2021-12-09 18:08:44 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_humidity'): deque([])
2021-12-09 18:08:44 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'online'
2021-12-09 18:08:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 8, 48, 862472, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:08:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 8, 58, 863489, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:09:02 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:09:02 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:09:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 9, 8, 864909, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:09:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:09:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 9, 18, 865635, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:09:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:09:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:09:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 9, 28, 879879, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:09:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 9, 38, 880616, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:09:39 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb1eb00d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:09:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:09:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 9, 48, 881040, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:09:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:09:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:09:58 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 191, in get_systems
    return await self.structure_systems(response)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 289, in structure_systems
    for this_station in system_metrics.get("stationMetrics"):
TypeError: 'NoneType' object is not iterable
2021-12-09 18:09:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 9, 58, 883133, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:10:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 10, 8, 884350, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:10:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:10:16 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 18:10:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 10, 18, 885106, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:10:24 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 18:10:24 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 18:10:24 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 18:10:24 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:10:24 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 18:10:24 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 18:10:24 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 18:10:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 10, 28, 886584, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:10:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 10, 38, 887872, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:10:39 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb51aa6d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:10:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:10:46 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 18:10:47 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 18:10:47 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 18:10:47 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 18:10:47 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 18:10:47 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 18:10:47 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 18:10:47 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:10:47 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_humidity/config: b'{"dev_cla":"humidity","unit_of_meas":"%","stat_cla":"measurement","name":"Outdoor Bonsai Humidity","stat_t":"bonsaitemp/sensor/outdoor_bonsai_humidity/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_humidity","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 18:10:47 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 18:10:47 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_humidity, sending update
2021-12-09 18:10:47 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_humidity') '{'device_class': 'humidity', 'unit_of_measurement': '%', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Humidity', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_humidity/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_humidity', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 18:10:47 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_humidity
2021-12-09 18:10:47 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_humidity'): deque([])
2021-12-09 18:10:47 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:10:47 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'online'
2021-12-09 18:10:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 10, 48, 890542, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:10:58 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:10:58 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:10:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 10, 58, 891167, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:11:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 11, 8, 892267, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:11:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:11:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 11, 18, 892970, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:11:26 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:11:26 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:11:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 11, 28, 894388, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:11:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 11, 38, 896114, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:11:40 WARNING (SyncWorker_4) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbe1dad60>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:11:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:11:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 11, 48, 897036, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:11:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:11:52 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:11:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 11, 58, 897592, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:12:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 12, 8, 898031, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:12:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:12:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 12, 18, 899337, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:12:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:12:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:12:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 12, 28, 899907, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:12:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 12, 38, 900707, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:12:40 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bae1d1520>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:12:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:12:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 12, 48, 902709, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:12:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:12:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:12:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 12, 58, 903284, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:13:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 13, 8, 904388, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:13:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:13:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 13, 18, 905208, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:13:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.2'
2021-12-09 18:13:23 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:13:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 13, 28, 906729, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:13:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 13, 38, 908496, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:13:40 WARNING (SyncWorker_5) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb52143d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:13:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:13:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 13, 48, 909174, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:13:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:13:53 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:13:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 13, 58, 909876, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:14:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 14, 8, 912888, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:14:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:14:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 14, 18, 914062, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:14:24 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:14:24 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_humidity/state: b'84'
2021-12-09 18:14:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 14, 28, 914724, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:14:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 14, 38, 916836, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:14:40 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baef14df0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:14:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:14:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 14, 48, 918749, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:14:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 14, 58, 920066, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:15:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 15, 8, 921045, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:15:10 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 18:15:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:15:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 15, 18, 922268, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:15:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 15, 28, 922770, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:15:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 15, 38, 924210, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:15:40 WARNING (SyncWorker_2) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bbf530310>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:15:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:15:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 15, 48, 924937, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:15:56 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 18:15:56 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 18:15:56 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 18:15:56 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 18:15:56 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 18:15:56 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 18:15:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 15, 58, 925644, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:16:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 16, 8, 927804, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:16:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:16:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 16, 18, 928364, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:16:22 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 18:16:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 16, 28, 929879, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:16:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 16, 38, 931634, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:16:40 WARNING (SyncWorker_3) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6baf459dc0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:16:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:16:46 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 18:16:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 16, 48, 933060, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:16:49 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on homeassistant/sensor/bonsaitemp/outdoor_bonsai_temperature/config: b'{"dev_cla":"temperature","unit_of_meas":"\xc2\xb0C","stat_cla":"measurement","name":"Outdoor Bonsai Temperature","stat_t":"bonsaitemp/sensor/outdoor_bonsai_temperature/state","avty_t":"bonsaitemp/status","uniq_id":"ESPsensoroutdoor_bonsai_temperature","dev":{"ids":"ecfabc212c26","name":"bonsaitemp","sw":"esphome v2021.11.4 Nov 30 2021, 13:59:55","mdl":"nodemcuv2","mf":"espressif"}}'
2021-12-09 18:16:49 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Process discovery payload {'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}
2021-12-09 18:16:49 INFO (MainThread) [homeassistant.components.mqtt.discovery] Component has already been discovered: sensor bonsaitemp outdoor_bonsai_temperature, sending update
2021-12-09 18:16:49 INFO (MainThread) [homeassistant.components.mqtt.mixins] Got update for entity with hash: ('sensor', 'bonsaitemp outdoor_bonsai_temperature') '{'device_class': 'temperature', 'unit_of_measurement': '°C', 'state_class': 'measurement', 'name': 'Outdoor Bonsai Temperature', 'state_topic': 'bonsaitemp/sensor/outdoor_bonsai_temperature/state', 'availability_topic': 'bonsaitemp/status', 'unique_id': 'ESPsensoroutdoor_bonsai_temperature', 'device': {'identifiers': 'ecfabc212c26', 'name': 'bonsaitemp', 'sw_version': 'esphome v2021.11.4 Nov 30 2021, 13:59:55', 'model': 'nodemcuv2', 'manufacturer': 'espressif'}, 'platform': 'mqtt'}'
2021-12-09 18:16:49 INFO (MainThread) [homeassistant.components.mqtt.mixins] Ignoring unchanged update for: sensor.outdoor_bonsai_temperature
2021-12-09 18:16:49 DEBUG (MainThread) [homeassistant.components.mqtt.discovery] Pending discovery for ('sensor', 'bonsaitemp outdoor_bonsai_temperature'): deque([])
2021-12-09 18:16:49 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/sensor/outdoor_bonsai_temperature/state: b'-1.3'
2021-12-09 18:16:59 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 16, 58, 933729, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:17:09 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 17, 8, 934492, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:17:14 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:17:16 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 18:17:19 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 17, 18, 934977, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:17:29 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 17, 28, 936052, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:17:39 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 17, 38, 937919, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

2021-12-09 18:17:40 WARNING (SyncWorker_0) [homeassistant.components.sonos] Failed to connect to configured player '192.168.86.42': HTTPConnectionPool(host='192.168.86.42', port=1400): Max retries exceeded with url: /xml/ZoneGroupTopology1.xml (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6bb0d5a1c0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2021-12-09 18:17:40 DEBUG (MainThread) [homeassistant.components.mqtt] Received message on bonsaitemp/status: b'offline'
2021-12-09 18:17:44 ERROR (MainThread) [custom_components.googlewifi] Unexpected error fetching GoogleWifi data: Session is closed
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 187, in _async_refresh
    self.data = await self._async_update_data()
  File "/config/custom_components/googlewifi/__init__.py", line 171, in _async_update_data
    system_data = await self.api.get_systems()
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 188, in get_systems
    response = await self.get_api(url, headers, payload)
  File "/usr/local/lib/python3.9/site-packages/googlewifi/__init__.py", line 63, in get_api
    async with self._session.get(
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 1117, in __aenter__
    self._resp = await self._coro
  File "/usr/local/lib/python3.9/site-packages/aiohttp/client.py", line 381, in _request
    raise RuntimeError("Session is closed")
RuntimeError: Session is closed
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Loading /config/secrets.yaml
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Secret myLatitude retrieved from secrets.yaml in folder /config
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Secret myLongitude retrieved from secrets.yaml in folder /config
2021-12-09 18:17:45 ERROR (MainThread) [mill] Failed to send request, {"timer":"","times":"","subDomain":"863","isHoliday":0,"description":"","errorCode":3824,"currentTemp":23.0,"error":"device response error","deviceId":172654}
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Secret myCamera retrieved from secrets.yaml in folder /config
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Secret mariadb_connection_url retrieved from secrets.yaml in folder /config
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Secret myLatitude retrieved from secrets.yaml in folder /config
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Secret myLongitude retrieved from secrets.yaml in folder /config
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Secret mqttBroker retrieved from secrets.yaml in folder /config
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Secret mqttPort retrieved from secrets.yaml in folder /config
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Secret mqttUser retrieved from secrets.yaml in folder /config
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Secret mqttPassword retrieved from secrets.yaml in folder /config
2021-12-09 18:17:45 DEBUG (SyncWorker_4) [homeassistant.util.yaml.loader] Secret iftttApiKey retrieved from secrets.yaml in folder /config
2021-12-09 18:17:49 ERROR (MainThread) [homeassistant.util.logging] Exception in async_poll when dispatching 'sonos_poll_update-RINCON_5CAAFDE50C3C01400': (datetime.datetime(2021, 12, 9, 17, 17, 48, 939806, tzinfo=datetime.timezone.utc),)
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sonos/entity.py", line 84, in async_poll
    await self._async_poll()
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 300, in _async_poll
    await self.hass.async_add_executor_job(self._update)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/components/sonos/media_player.py", line 307, in _update
    self.speaker.update_media()
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1049, in update_media
    self.update_media_radio(variables)
  File "/usr/src/homeassistant/homeassistant/components/sonos/speaker.py", line 1074, in update_media_radio
    if current_track_metadata := variables.get("current_track_meta_data"):
AttributeError: 'NoneType' object has no attribute 'get'

